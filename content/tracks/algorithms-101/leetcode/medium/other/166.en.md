---
title: 166. Fraction to Recurring Decimal
seoTitle: LeetCode 166. Fraction to Recurring Decimal | Python Solution and Explanation
description: "An in-depth explanation and Python solution for LeetCode problem 166: Fraction to Recurring Decimal"
toc: true
tags: ["LeetCode", "Python", "Medium", "Math"]
categories: [Algorithms, Medium]
series: [LeetCode Problem Solutions]
date: 2023-07-09
lastmod: 2023-07-09
featuredImage: https://picsum.photos/699/241?grayscale
weight: 166
---

[LeetCode problem](https://leetcode.com/problems/fraction-to-recurring-decimal/)

## Problem Statement

Given two integers representing the numerator and denominator of a fraction, return the fraction in string format. If the fractional part is repeating, enclose the repeating part in parentheses.

This problem is about converting a fraction to its decimal representation in string format. The tricky part is dealing with repeating decimals. If a decimal repeats, we should enclose the repeating part in parentheses.

For example, if we have a fraction 1/3, the decimal representation would be 0.3333.... In this problem, we need to represent it as "0.(3)".

## Naive Solution

A naive solution could involve simple division - you divide the numerator by the denominator and convert it to a string. However, this wouldn't account for recurring decimals, and it would only be correct for fractions that result in a finite decimal.

## Approach

A better approach to solve this problem involves using the **long division method** and a hash map to keep track of remainders. If the same remainder appears again, it means we have found a repeating sequence.

In long division, we divide the numerator by the denominator, find the remainder, and then add a zero to the remainder and repeat the process.

While doing this, if we encounter the same remainder that we have seen before, it means the sequence will start to repeat from here.

## Steps

1. Determine the integer part, which is `numerator // denominator`.
2. For the fractional part, keep track of the remainders and their corresponding positions in the decimal fraction.
3. If a remainder is repeating (i.e., it already exists in the dictionary), stop there and put that part in parentheses.

## Solution

```python
class Solution:
    def fractionToDecimal(self, numerator: int, denominator: int) -> str:
        if numerator % denominator == 0:
            return str(numerator // denominator)

        integer = str(numerator // denominator)
        remainder = numerator % denominator
        decimal = []
        remainder_dict = {}
        
        while remainder != 0:
            if remainder in remainder_dict:
                decimal.insert(remainder_dict[remainder], "(")
                decimal.append(")")
                break
            
            remainder_dict[remainder] = len(decimal)
            remainder *= 10
            decimal.append(str(remainder // denominator))
            remainder %= denominator
            
        return integer + "." + "".join(decimal)
```
