---
title: 166. Fraction to Recurring Decimal
seoTitle: 166. Fraction to Recurring Decimal | Python Solution and Explanation
description: "An in-depth explanation and Python solution for LeetCode problem 166: Fraction to Recurring Decimal"
toc: true
tags: ["LeetCode", "Python", "Medium", "Math"]
categories: [Algorithms, Medium]
series: [LeetCode Problem Solutions]
date: 2023-07-09
lastmod: 2023-07-09
featuredImage: https://picsum.photos/699/241?grayscale
weight: 166
---

[LeetCode problem](https://leetcode.com/problems/fraction-to-recurring-decimal/)

## Problem Statement

Given two integers representing the numerator and denominator of a fraction, return the fraction in string format. If the fractional part is repeating, enclose the repeating part in parentheses.

## Naive Solution

A naive solution could involve simple division - you divide the numerator by the denominator and convert it to a string. However, this wouldn't account for recurring decimals, and it would only be correct for fractions that result in a finite decimal.

## Approach

We need a more sophisticated approach to detect recurring decimals. We'll do this by keeping track of our remainders. If we ever find that we're about to divide the same remainder again, we know that our decimals will start repeating.

## Steps

1. Determine the integer part, which is `numerator // denominator`.
2. For the fractional part, keep track of the remainders and their corresponding positions in the decimal fraction. If a remainder is repeating (i.e., it already exists in the dictionary), stop there and put that part in parentheses.

## Solution

```python
class Solution:
    def fractionToDecimal(self, numerator: int, denominator: int) -> str:
        if numerator == 0:
            return "0"
        result = ""
        if (numerator < 0) != (denominator < 0):
            result += "-"
        numerator = abs(numerator)
        denominator = abs(denominator)
        result += str(numerator // denominator)
        remainder = numerator % denominator
        if remainder == 0:
            return result
        else:
            result += "."
        map = {remainder: len(result)}
        while remainder != 0:
            remainder *= 10
            result += str(remainder // denominator)
            remainder %= denominator
            if remainder in map:
                index = map[remainder]
                result = result[:index] + "(" + result[index:] + ")"
                return result
            else:
                map[remainder] = len(result)
        return result
```
