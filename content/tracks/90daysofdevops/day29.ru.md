---
title: 29. Знакомство с Microsoft Azure
description: Туториал по Microsoft Azure с нуля
toc: true
authors:
tags: [devops]
categories:
series:
date: "2022-05-19"
lastMod: "2022-05-19"
featuredImage:
draft: false
id: 1048705
weight: 29
---

## Знакомство с Microsoft Azure

Прежде чем мы начнем, победителем опроса в Твиттере стала Microsoft Azure, отсюда и название страницы. Это было довольно интересно увидеть результаты, полученные в течение 24 часов.

![](../images/Day29_Cloud1.ru.png?v1)
Я бы сказал, что с точки зрения освещения этой темы я лучше понимаю и пользуюсь услугами, доступных в Microsoft Azure. Сегодня я склоняюсь к Amazon AWS. Однако я выделил разделы для всех трех основных облачных провайдеров.

Я ценю, что их больше, и опрос включал только эти 3, и, в частности, были некоторые комментарии об Oracle Cloud. Я хотел бы услышать больше о других облачных провайдерах, которые используются в дикой природе.

### Основы

- Предоставляет общедоступные облачные сервисы
- Географически распределены (более 60 регионов по всему миру)
- Доступ через Интернет и/или частные соединения
- Мультитенантная модель
- Выставление счетов на основе потребления - (Плати по мере использования | Плати по мере роста)
- Большое количество типов услуг и предложений для различных требований.

- [Microsoft Azure Global Infrastructure](https://infrastructuremap.microsoft.com/explore)
  Сколько бы мы ни говорили о SaaS и Hybrid Cloud, мы не планируем затрагивать эти темы здесь.

Лучший способ начать и продолжить работу — щелкнуть ссылку, которая позволит вам зарегистрировать [Бесплатную учетную запись Microsoft Azure](https://azure.microsoft.com/en-gb/free/)

### Регионы

Я связал интерактивную карту выше, но мы можем видеть изображение под широтой регионов, предлагаемых на платформе Microsoft Azure по всему миру.
![](../images/Day29_Cloud2.ru.png?v1)
_image taken from [Microsoft Docs - 01/05/2021](https://docs.microsoft.com/ru-ru/azure/networking/microsoft-global-network)_

Вы также увидите несколько sovereign облаков, что означает, что они не связаны или не могут взаимодействовать с другими регионами, например, они будут связаны с правительствами, такими как «AzureUSGovernment», а также «AzureChinaCloud» и другими.

Когда мы развертываем наши службы в Microsoft Azure, мы выбираем регион почти для всего. Однако важно отметить, что не все услуги доступны в каждом регионе. Вы можете увидеть [Продукты, доступные по регионам](https://azure.microsoft.com/en-us/global-infrastructure/services/?products=all) на момент написания моего письма, что в западно-центральной части США мы не можем использовать Azure Databricks.

Я также упомянул «почти все» выше, есть определенные службы, связанные с регионом, такие как Azure Bot Services, Bing Speech, Azure Virtual Desktop, статические веб-приложения и некоторые другие.

За кулисами регион может состоять из более чем одного центра обработки данных. Они будут называться зонами доступности.

На изображении ниже вы увидите, что это снова взято из официальной документации Microsoft, в которой описывается, что такое регион и как он состоит из зон доступности. Однако не во всех регионах есть несколько зон доступности.

![](../images/Day29_Cloud3.ru.png?v1)

В Microsoft хорошая документация, и вы можете прочитать больше о [Регионах и зонах доступности](https://docs.microsoft.com/ru-ru/azure/availability-zones/az-overview) здесь.

### Подписки

Помните, что мы упоминали, что Microsoft Azure — это облако модели потребления, и вы обнаружите, что все основные поставщики облачных услуг следуют этой модели.

Если вы являетесь Предприятием, вы можете захотеть или заключить соглашение Enterprise с Microsoft, чтобы ваша компания могла использовать эти службы Azure.

Если вы похожи на меня и используете Microsoft Azure для обучения, у нас есть несколько других вариантов.

У нас есть [Бесплатная учетная запись Microsoft Azure](https://azure.microsoft.com/en-gb/free/), которая обычно дает вам несколько бесплатных облачных кредитов, которые вы можете потратить в Azure в течение некоторого времени.

Существует также возможность использовать подписку Visual Studio, которая дает вам, возможно, несколько бесплатных кредитов каждый месяц вместе с вашей годовой подпиской на Visual Studio, которая много лет назад была широко известна как MSDN. [Visual Studio](https://azure.microsoft.com/en-us/pricing/member-offers/credit-for-visual-studio-subscribers/)

Затем, наконец, вручите кредитную карту и заплатите, как вы идете, модель. [Оплата по мере использования](https://azure.microsoft.com/en-us/pricing/purchase-options/pay-as-you-go/)

Подписку можно рассматривать как границу между разными подписками, потенциально являющимися центрами затрат, но совершенно разными средами. Подписка — это место, где создаются ресурсы.

### Management Groups

Группы управления дают нам возможность разделять управление в нашей Azure AD или в нашей клиентской среде. Группы управления позволяют нам контролировать политики, [RBAC](https://habr.com/ru/company/custis/blog/248649/) (Role-based access control) и бюджеты.

Подписки принадлежат этим группам управления, поэтому у вас может быть много подписок в вашем клиенте Azure AD. Эти подписки также могут управлять политиками, RBAC и бюджетами.

### Resource Manager and Resource Groups

**Azure Resource Manager**

- API на основе JSON, основанный на поставщиках ресурсов.
- Ресурсы принадлежат группе ресурсов и имеют общий жизненный цикл.
- Параллелизм
- Развертывания на основе JSON являются декларативными, идемпотентными и понимают зависимости между ресурсами для управления созданием и порядком.

**Resource Groups**

- Каждый ресурс Azure Resource Manager существует в одной и только одной группе ресурсов!
- Группы ресурсов создаются в регионе, который может содержать ресурсы из-за пределов региона.
- Ресурсы можно перемещать между группами ресурсов
- Группы ресурсов не отгорожены от других групп ресурсов, между группами ресурсов может быть связь.
- Группы ресурсов также могут управлять политиками, RBAC и бюджетами.

### Практика

Давайте подключимся и убедимся, что у нас есть **Подписка**. Мы можем проверить нашу простую готовую **Группу управления**. Затем мы можем пойти и создать новую выделенную **Группу ресурсов** в предпочитаемом нами **Регионе**.

При первом входе на наш [портал Azure](https://portal.azure.com/#home) вверху вы увидите возможность поиска ресурсов, служб и документов.

![](../images/Day29_Cloud4.ru.png?v1)

Сначала мы рассмотрим нашу подписку. Здесь вы увидите, что я использую подписку Visual Studio Professional, которая дает мне бесплатный "кредит" каждый месяц.

![](../images/Day29_Cloud5.ru.png?v1)

Если мы углубимся в это, вы получите более широкое представление и посмотрите, что происходит или что можно сделать с подпиской, мы можем увидеть информацию о выставлении счетов с функциями управления слева, где вы можете определить контроль доступа к IAM, а ниже доступно больше ресурсов.

![](../images/Day29_Cloud6.ru.png?v1)

Может возникнуть ситуация, когда у вас есть несколько подписок, и вы хотите управлять ими всеми в рамках одной, и именно здесь можно использовать группы управления для разделения групп ответственности. В моем ниже вы можете видеть, что есть только моя корневая группа арендатора с моей подпиской.

Вы также увидите на предыдущем изображении, что родительская группа управления — это тот же идентификатор, который используется в корневой группе арендатора.

![](../images/Day29_Cloud7.ru.png?v1)

Затем у нас есть группы ресурсов, здесь мы объединяем наши ресурсы и можем легко управлять ими в одном месте. У меня есть несколько созданных для различных других проектов.

![](../images/Day29_Cloud8.ru.png?v1)

Что мы собираемся делать в течение следующих нескольких дней, мы хотим создать нашу группу ресурсов. Это легко сделать в этой консоли, выбрав опцию создания на предыдущем изображении.

![](../images/Day29_Cloud9.ru.png?v1)
Происходит этап проверки, после чего у вас есть возможность просмотреть свое творение, а затем создать его. Вы также увидите внизу «Загрузить шаблон для автоматизации», это позволяет нам получить формат JSON, чтобы мы могли выполнить это просто автоматически позже, если мы захотим, мы также рассмотрим это позже.
![](../images/Day29_Cloud10.ru.png?v1)
Нажмите «Create», затем в нашем списке групп ресурсов у нас теперь есть группа «90DaysOfDevOps», готовая к тому, что мы будем делать в следующем сеансе.
![](../images/Day29_Cloud11.ru.png?v1)

## Ресурсы

- [Hybrid Cloud and MultiCloud](https://www.youtube.com/watch?v=qkj5W98Xdvw)
- [Microsoft Azure Fundamentals](https://www.youtube.com/watch?v=NKEFWyqJ5XA&list=WL&index=130&t=12s)
- [Google Cloud Digital Leader Certification Course](https://www.youtube.com/watch?v=UGRDM86MBIQ&list=WL&index=131&t=10s)
- [AWS Basics for Beginners - Full Course](https://www.youtube.com/watch?v=ulprqHHWlng&t=5352s)
