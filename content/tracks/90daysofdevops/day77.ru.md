---
title: 77. Мониторинг
description: 
toc: true
authors:
tags: [devops]
categories:
series: 
date: "2022-07-01"
lastmod: "2022-07-01"
featuredImage:
draft: false
id: 1048715
weight: 77
---
## Введение: Мониторинг

В этом разделе мы поговорим о мониторинге, что это такое, зачем он нам нужен?

### Что такое мониторинг?

Мониторинг - это процесс пристального наблюдения за всей инфраструктурой.  

### и зачем он нам нужен?

Предположим, что мы управляем тысячей серверов, которые включают в себя множество специализированных серверов, таких как серверы приложений, серверы баз данных и веб-серверы. Мы также можем усложнить эту задачу за счет дополнительных сервисов и различных платформ, включая публичные облачные предложения и Kubernetes.

![](../images/Day77_Monitoring1.ru.png?v1)

Мы отвечаем за то, чтобы все сервисы, приложения и ресурсы на серверах работали так, как должны.

![](../images/Day77_Monitoring2.ru.png?v1)

Как мы это делаем? Есть три способа:

- Войти вручную на все наши серверы и проверить все данные, относящиеся к процессам и ресурсам служб.
- Написать скрипт, который заходит на серверы за нас и проверяет данные.  

Оба варианта потребуют от нас значительного объема работы,

Третий вариант проще, мы можем использовать решение для мониторинга, которое доступно на рынке.  

Nagios и Zabbix - это возможные решения, которые легко доступны и позволяют нам расширить нашу инфраструктуру мониторинга, чтобы включить столько серверов, сколько мы захотим.

### Nagios

Nagios - это инструмент мониторинга инфраструктуры, созданный одноименной компанией. Версия этого инструмента с открытым исходным кодом называется Nagios core, а коммерческая версия называется Nagios XI. [Сайт Nagios](https://www.nagios.org/)

Этот инструмент позволяет нам следить за нашими серверами и видеть, достаточно ли они используются или есть какие-либо задачи, требующие решения.

![](../images/Day77_Monitoring3.ru.png?v1)

По сути, мониторинг позволяет нам достичь этих двух целей, проверить состояние наших серверов и сервисов и определить здоровье нашей инфраструктуры. Он также дает нам возможность увидеть всю инфраструктуру с высоты 40 000 метров, чтобы увидеть, работают ли наши серверы, правильно ли работают приложения, доступны или нет веб-серверы.

Он сообщит нам, что объем нашего диска увеличивался на 10 процентов в течение последних 10 недель на определенном сервере, что он будет полностью исчерпан в течение следующих четырех или пяти дней, и мы не сможем ответить в ближайшее время. Он предупредит нас, когда ваш диск или сервер находится в критическом состоянии, чтобы мы могли принять соответствующие меры, чтобы избежать возможных сбоев.

В этом случае мы можем освободить некоторое дисковое пространство и гарантировать, что наши серверы не выйдут из строя и наши пользователи не пострадают.

Сложный вопрос для большинства инженеров по мониторингу - что мы отслеживаем, а что нет?

Каждая система имеет ряд ресурсов, за какими из них мы должны внимательно следить, а на какие можем закрыть глаза, например, нужно ли следить за использованием процессора, ответ "да" очевиден, тем не менее, это все равно решение, которое нужно принять, нужно ли следить за количеством открытых портов в системе, мы можем следить или не следить в зависимости от ситуации, если это сервер общего назначения, то, вероятно, не нужно, но если это веб-сервер, то, вероятно, нужно.  

### Постоянный мониторинг

Мониторинг не является чем-то новым, и даже непрерывный мониторинг был идеалом, который многие предприятия приняли в течение многих лет.

Есть три ключевых области, на которых необходимо сосредоточиться, когда речь заходит о мониторинге.

- Мониторинг инфраструктуры
- Мониторинг приложений
- Мониторинг сети

Важно отметить, что существует множество доступных инструментов, мы упомянули две общие системы и инструменты в этой сессии, но их очень много. Реальная польза от решения для мониторинга появляется тогда, когда вы действительно потратили время на то, чтобы убедиться, что вы ответили на вопрос, что мы должны отслеживать, а что нет?

Мы можем включить решение мониторинга в любой из наших платформ, и оно начнет собирать информацию, но если этой информации просто слишком много, вам будет трудно извлечь пользу из этого решения, вам придется потратить время на настройку.

На следующем занятии мы попробуем использовать инструмент мониторинга и посмотрим, что мы можем начать отслеживать.

## Ресурсы

- [The Importance of Monitoring in DevOps](https://www.devopsonline.co.uk/the-importance-of-monitoring-in-devops/)
- [Understanding Continuous Monitoring in DevOps?](https://medium.com/devopscurry/understanding-continuous-monitoring-in-devops-f6695b004e3b)
- [DevOps Monitoring Tools](https://www.youtube.com/watch?v=Zu53QQuYqJ0)
- [Top 5 - DevOps Monitoring Tools](https://www.youtube.com/watch?v=4t71iv_9t_4)
- [How Prometheus Monitoring works](https://www.youtube.com/watch?v=h4Sl21AKiDg)
- [Introduction to Prometheus monitoring](https://www.youtube.com/watch?v=5o37CGlNLr8)
