---
title: 44. Установка образов Docker в Docker Desktop
description: 
toc: true
authors:
tags: [devops]
categories:
series: 
date: "2022-06-03"
lastmod: "2022-06-03"
featuredImage:
draft: false
id: 1048708
weight: 44
---

## Образы Docker и практическая работа с Docker Desktop

Теперь у нас в системе установлен Docker Desktop. (Если вы используете Linux, у вас все еще есть опции, но нет графического интерфейса, но docker, очевидно, работает на Linux)[Install Docker Engine on Ubuntu](https://docs.docker.com/engine/install/ubuntu/) (Другие дистрибутивы также доступны).

В этом посте мы собираемся начать с развертывания некоторых образов в нашей среде. Напомним, что такое образ Docker - образ Docker - это файл, используемый для выполнения кода в контейнере Docker. Образы Docker действуют как набор инструкций для создания контейнера Docker, как шаблон. Образы Docker также служат отправной точкой при использовании Docker.

Сейчас самое время пойти и создать свой аккаунт на [DockerHub](https://hub.docker.com/)

![](../images/Day44_Containers1.ru.png?v1)

DockerHub - это централизованный ресурс для работы с Docker и его компонентами. Наиболее известен как реестр для размещения образов докеров. Но здесь есть множество дополнительных сервисов, которые можно использовать для автоматизации или интеграции в GitHub, а также для сканирования безопасности.

Если вы прокрутите вниз после входа в систему, вы увидите список образов контейнеров, вы можете увидеть образы баз данных для mySQL, hello-world и т.д. и т.п. Рассматривайте их как отличные базовые образы, или вам может понадобиться просто образ базы данных, и вам лучше всего использовать официальный образ, что означает, что вам не нужно создавать свой собственный.

![](../images/Day44_Containers2.ru.png?v1)

Мы можем углубиться в просмотр доступных изображений и осуществлять поиск по категориям, операционным системам и архитектурам. Единственное, что я выделил ниже, это Office Image, это должно дать вам уверенность в происхождении этого образа контейнера.  

![](../images/Day44_Containers3.ru.png?v1)

Мы также можем искать конкретное изображение, например, wordpress может быть хорошим базовым изображением, которое нам нужно, мы можем сделать это в верхней части и найти все изображения контейнеров, связанные с wordpress. Ниже обратите внимание, что у нас также есть проверенный издатель.

- Официальные образы - Официальные образы Docker - это курируемый набор открытых исходных кодов Docker и репозиториев решений "drop-in".

- Проверенный издатель - высококачественный контент Docker от проверенных издателей. Эти продукты публикуются и поддерживаются непосредственно коммерческой организацией.

![](../images/Day44_Containers4.ru.png?v1)

### Изучение Docker Desktop

У нас в системе установлен Docker Desktop, и если открыть его, то, если он у вас еще не установлен, вы увидите нечто похожее на изображение ниже. Как вы можете видеть, у нас нет запущенных контейнеров, но наш движок docker запущен.

![](../images/Day44_Containers5.ru.png?v1)

Поскольку это была не свежая установка для меня, у меня есть некоторые изображения, которые уже загружены и доступны в моей системе. Скорее всего, здесь вы ничего не увидите.

![](../images/Day44_Containers6.ru.png?v1)

В разделе удаленных репозиториев вы найдете все образы контейнеров, которые хранятся в вашем хабе docker. Ниже показано, что у меня нет никаких образов.

![](../images/Day44_Containers7.ru.png?v1)

Мы также можем уточнить это на нашем сайте dockerhub и подтвердить, что у нас там нет репозиториев.

![](../images/Day44_Containers8.ru.png?v1)

Далее у нас есть вкладка Volumes, если у вас есть контейнеры, которым требуется постоянство, то здесь мы можем добавить эти тома в вашу локальную файловую систему или общую файловую систему.

![](../images/Day44_Containers9.ru.png?v1)

На момент написания статьи также существует вкладка Dev Environments, которая поможет вам сотрудничать с вашей командой вместо того, чтобы перемещаться между различными ветками git. Мы не будем ее рассматривать.

![](../images/Day44_Containers10.ru.png?v1)

Вернувшись на первую вкладку, вы увидите, что там есть команда, которую мы можем запустить - это контейнер для запуска. Давайте запустим `docker run -d -p 80:80 docker/getting-started` в нашем терминале.  

![](../images/Day44_Containers11.ru.png?v1)

Если мы снова проверим окно рабочего стола docker, то увидим, что у нас есть запущенный контейнер.

![](../images/Day44_Containers12.ru.png?v1)

Вы могли заметить, что я использую WSL2, и для того, чтобы вы могли использовать его, вам нужно убедиться, что он включен в настройках.

![](../images/Day44_Containers13.ru.png?v1)

Если теперь мы снова перейдем на вкладку Images, вы должны увидеть используемый образ под названием docker/getting-started.

![](../images/Day44_Containers14.ru.png?v1)

Вернитесь на вкладку Containers/Apps, нажмите на ваш запущенный контейнер. По умолчанию вы увидите журналы, а в верхней части есть несколько опций на выбор, в нашем случае я уверен, что это будет веб-страница, запущенная в этом контейнере, поэтому мы выберем опцию "Открыть в браузере".

![](../images/Day44_Containers15.ru.png?v1)

Когда мы нажмем на кнопку выше, конечно же, откроется веб-страница на вашем локальном хосте и отобразится что-то похожее на то, что показано ниже.

Этот контейнер также содержит более подробную информацию о том, что такое контейнеры и изображения.

![](../images/Day44_Containers16.ru.png?v1)

Теперь мы запустили наш первый контейнер. Пока ничего страшного. А что если мы захотим вытащить один из образов контейнера из DockerHub? Может быть, там есть докер-контейнер `hello world`, который мы могли бы использовать.

Я остановил начальный контейнер, не то чтобы он занимал много ресурсов, но для аккуратности, пока мы проходим еще несколько шагов.

Вернемся в терминал и выполним команду `docker run hello-world` и посмотрим, что произойдет.

Вы можете видеть, что у нас не было локального образа, поэтому мы стянули его, а затем получили сообщение, записанное в образ контейнера, с информацией о том, что он сделал, чтобы запуститься, и некоторые ссылки на точки отсчета.

![](../images/Day44_Containers17.ru.png?v1)

Однако, если мы посмотрим в Docker Desktop, у нас нет запущенных контейнеров, но есть вышедший контейнер, который использовал сообщение hello-world, то есть он появился, передал сообщение и затем завершился.

![](../images/Day44_Containers18.ru.png?v1)

И в последний раз, давайте просто проверим вкладку images и увидим, что у нас есть новый образ hello-world локально в нашей системе, что означает, что если мы снова выполним команду `docker run hello-world` в нашем терминале, нам не придется ничего вытаскивать, если только версия не изменится.

![](../images/Day44_Containers19.ru.png?v1)

В сообщении от контейнера hello-world была поставлена задача запустить что-то более амбициозное.

Вызов принят!

![](../images/Day44_Containers20.ru.png?v1)

Запустив `docker run -it ubuntu bash` в нашем терминале, мы собираемся запустить контейнерную версию Ubuntu, а не полную копию операционной системы. Вы можете узнать больше об этом конкретном образе на [DockerHub](https://hub.docker.com/_/ubuntu).

Вы можете видеть ниже, когда мы выполним команду, у нас появится интерактивная подсказка (`-it`) и мы запустим оболочку bash в нашем контейнере.

![](../images/Day44_Containers21.ru.png?v1)

У нас есть оболочка bash, но у нас не так много больше, поэтому образ этого контейнера занимает менее 30 мб.

![](../images/Day44_Containers22.ru.png?v1)

Но мы все еще можем использовать этот образ, и мы все еще можем установить программное обеспечение, используя наш менеджер пакетов apt, мы можем обновить наш образ контейнера и обновить также.

![](../images/Day44_Containers23.ru.png?v1)

Или, может быть, мы хотим установить какое-то программное обеспечение в наш контейнер, я выбрал очень плохой пример, поскольку pinta - это редактор изображений, и его размер превышает 200мб, но, надеюсь, вы поняли, к чему я веду. Это значительно увеличит размер нашего контейнера, но все же мы будем находиться в мб, а не в гб.

![](../images/Day44_Containers24.ru.png?v1)

Я хотел, чтобы вы получили общее представление о Docker Desktop и не таком уж страшном мире контейнеров, когда вы разбиваете его на простые сценарии использования, но нам нужно рассказать о некоторых сетевых возможностях, безопасности и других вариантах, которые у нас есть по сравнению с просто загрузкой образов контейнеров и их использованием таким образом. К концу раздела мы хотим создать что-то, загрузить в наш репозиторий DockerHub и иметь возможность развернуть это.  

## Ресурсы

- [TechWorld with Nana - Docker Tutorial for Beginners](https://www.youtube.com/watch?v=3c-iBn73dDE)
- [Programming with Mosh - Docker Tutorial for Beginners](https://www.youtube.com/watch?v=pTFZFxd4hOI)
- [Docker Tutorial for Beginners - What is Docker? Introduction to Containers](https://www.youtube.com/watch?v=17Bl31rlnRM&list=WL&index=128&t=61s)
- [WSL 2 with Docker getting started](https://www.youtube.com/watch?v=5RQbdMn04Oc)
