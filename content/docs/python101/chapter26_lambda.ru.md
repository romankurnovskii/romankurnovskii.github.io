---
title: 26. Лямбда
description: Python 101
toc: true
authors:
tags:
categories:
series:
featuredImage:
date: "2022-06-28"
lastmod: "2022-06-28"
draft: false
weight: 26
---

Оператор лямбда в Python - это анонимная или несвязанная функция, причем довольно ограниченная. Давайте рассмотрим несколько типичных примеров и посмотрим, сможем ли мы найти для нее применение. Примеры, которые обычно встречаются при изучении лямбды, - это что-то вроде скучной функции удвоения. Чтобы не быть голословным, наш простой пример покажет, как найти квадратный корень. Сначала мы покажем обычную функцию, а затем ее лямбда-эквивалент:

```python
import math

def sqroot(x):
    """
    Finds the square root of the number passed in
    """
    return math.sqrt(x)

square_rt = lambda x: math.sqrt(x)
```

Если вы попробуете каждую из этих функций, то в итоге получите плавающее число. Вот несколько примеров:

```python
>>> sqroot(49)
7.0
>>> square_rt(64)
8.0
```

Довольно ловко, верно? Но где мы можем использовать лямбду в реальной жизни? Может быть, в программе-калькуляторе? Ну, это может сработать, но это довольно ограниченное применение для встроенного модуля Python! Одна из основных частей Python, к которой регулярно применяются примеры лямбд, - это обратные вызовы Tkinter. Tkinter - это набор инструментов для создания графических интерфейсов, который входит в состав Python.

## Tkinter + lambda

Мы начнем с Tkinter, поскольку он входит в стандартный пакет Python. Вот очень простой сценарий с тремя кнопками, две из которых привязаны к обработчику событий с помощью лямбды:

```python
import Tkinter as tk

class App:
    """"""

    def __init__(self, parent):
        """Constructor"""
        frame = tk.Frame(parent)
        frame.pack()

        btn22 = tk.Button(frame, text="22", command=lambda: self.printNum(22))
        btn22.pack(side=tk.LEFT)
        btn44 = tk.Button(frame, text="44", command=lambda: self.printNum(44))
        btn44.pack(side=tk.LEFT)

        quitBtn = tk.Button(frame, text="QUIT", fg="red", command=frame.quit)
        quitBtn.pack(side=tk.LEFT)


    def printNum(self, num):
        """"""
        print("You pressed the %s button" % num)

if __name__ == "__main__":
    root = tk.Tk()
    app = App(root)
    root.mainloop()
```

Обратите внимание на переменные btn22 и btn44. Именно здесь происходит действие. Мы создаем экземпляр tk.Button и одним махом привязываем его к нашему методу printNum. Наша лямбда присваивается параметру команды кнопки. Это значит, что мы создаем одноразовую функцию для команды, по аналогии с кнопкой выхода, где мы вызываем метод выхода из фрейма. Разница в том, что отдельная лямбда – это метод, который вызывает другой метод и передает ему целое число. В методе printNum, мы пишем  в stdout о том, какая кнопка была нажата, пользуясь информацией, которая была передана функцией lambda. Улавливаете? Если да, то мы продолжим. Если нет – перечитайте данный параграф столько раз, сколько нужно для того, чтобы эта информация усвоилась, или пока не сойдете с ума, в любом случае, что-то должно произойти первым.

## Подведение итогов

Оператор лямбда используется и во многих других проектах. Если набрать в Google название проекта Python и лямбда, можно найти множество живого кода. Например, набрав в поиске "django lambda", вы узнаете, что в django есть фабрика **modelformset**, использующая лямбды. Плагин Elixir для SqlAlchemy также использует лямбды. Будьте внимательны, и вы удивитесь, как часто вы будете натыкаться на этот удобный механизм создания функций.
