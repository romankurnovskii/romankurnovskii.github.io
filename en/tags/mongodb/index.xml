<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>mongodb on Roman Kurnovskii</title><link>https://romankurnovskii.com/en/tags/mongodb/</link><description>Recent content in mongodb on Roman Kurnovskii</description><generator>Hugo -- gohugo.io</generator><language>en</language><copyright>&amp;copy; 2023 &lt;a href="https://romankurnovskii.com">Roman Kurnovskii&lt;/a> personal page</copyright><lastBuildDate>Tue, 06 Sep 2022 00:00:00 +0000</lastBuildDate><atom:link href="https://romankurnovskii.com/en/tags/mongodb/index.xml" rel="self" type="application/rss+xml"/><item><title>Serverless: Flask+API Gateway+Lambda+MongoDB</title><link>https://romankurnovskii.com/en/posts/serverless-flask-lambda-api-gateway-mongodb/</link><pubDate>Tue, 06 Sep 2022 00:00:00 +0000</pubDate><guid>https://romankurnovskii.com/en/posts/serverless-flask-lambda-api-gateway-mongodb/</guid><description>mongodb free tier vs documentdb
Project structure 1- src 2 - app.py 3 - mongo.py 4- .env 5- requirements.txt 6- serverless.yml Sources
Add AIM user Setup specific user for serverless deployment
username: serverless-deployer
aws aim documentation Set policy Create:
ServerLessDeployerPolicyGroup ServerLessDeployerPolicy Policy:
1{ 2 &amp;#34;Statement&amp;#34;: [ 3 { 4 &amp;#34;Action&amp;#34;: [ 5 &amp;#34;apigateway:*&amp;#34;, 6 &amp;#34;cloudformation:CancelUpdateStack&amp;#34;, 7 &amp;#34;cloudformation:ContinueUpdateRollback&amp;#34;, 8 &amp;#34;cloudformation:CreateChangeSet&amp;#34;, 9 &amp;#34;cloudformation:CreateStack&amp;#34;, 10 &amp;#34;cloudformation:CreateUploadBucket&amp;#34;, 11 &amp;#34;cloudformation:DeleteStack&amp;#34;, 12 &amp;#34;cloudformation:Describe*&amp;#34;, 13 &amp;#34;cloudformation:EstimateTemplateCost&amp;#34;, 14 &amp;#34;cloudformation:ExecuteChangeSet&amp;#34;, 15 &amp;#34;cloudformation:Get*&amp;#34;, 16 &amp;#34;cloudformation:List*&amp;#34;, 17 &amp;#34;cloudformation:UpdateStack&amp;#34;, 18 &amp;#34;cloudformation:UpdateTerminationProtection&amp;#34;, 19 &amp;#34;cloudformation:ValidateTemplate&amp;#34;, 20 &amp;#34;dynamodb:CreateTable&amp;#34;, 21 &amp;#34;dynamodb:DeleteTable&amp;#34;, 22 &amp;#34;dynamodb:DescribeTable&amp;#34;, 23 &amp;#34;dynamodb:DescribeTimeToLive&amp;#34;, 24 &amp;#34;dynamodb:UpdateTimeToLive&amp;#34;, 25 &amp;#34;ec2:AttachInternetGateway&amp;#34;, 26 &amp;#34;ec2:AuthorizeSecurityGroupIngress&amp;#34;, 27 &amp;#34;ec2:CreateInternetGateway&amp;#34;, 28 &amp;#34;ec2:CreateNetworkAcl&amp;#34;, 29 &amp;#34;ec2:CreateNetworkAclEntry&amp;#34;, 30 &amp;#34;ec2:CreateRouteTable&amp;#34;, 31 &amp;#34;ec2:CreateSecurityGroup&amp;#34;, 32 &amp;#34;ec2:CreateSubnet&amp;#34;, 33 &amp;#34;ec2:CreateTags&amp;#34;, 34 &amp;#34;ec2:CreateVpc&amp;#34;, 35 &amp;#34;ec2:DeleteInternetGateway&amp;#34;, 36 &amp;#34;ec2:DeleteNetworkAcl&amp;#34;, 37 &amp;#34;ec2:DeleteNetworkAclEntry&amp;#34;, 38 &amp;#34;ec2:DeleteRouteTable&amp;#34;, 39 &amp;#34;ec2:DeleteSecurityGroup&amp;#34;, 40 &amp;#34;ec2:DeleteSubnet&amp;#34;, 41 &amp;#34;ec2:DeleteVpc&amp;#34;, 42 &amp;#34;ec2:Describe*&amp;#34;, 43 &amp;#34;ec2:DetachInternetGateway&amp;#34;, 44 &amp;#34;ec2:ModifyVpcAttribute&amp;#34;, 45 &amp;#34;events:DeleteRule&amp;#34;, 46 &amp;#34;events:DescribeRule&amp;#34;, 47 &amp;#34;events:ListRuleNamesByTarget&amp;#34;, 48 &amp;#34;events:ListRules&amp;#34;, 49 &amp;#34;events:ListTargetsByRule&amp;#34;, 50 &amp;#34;events:PutRule&amp;#34;, 51 &amp;#34;events:PutTargets&amp;#34;, 52 &amp;#34;events:RemoveTargets&amp;#34;, 53 &amp;#34;iam:AttachRolePolicy&amp;#34;, 54 &amp;#34;iam:CreateRole&amp;#34;, 55 &amp;#34;iam:DeleteRole&amp;#34;, 56 &amp;#34;iam:DeleteRolePolicy&amp;#34;, 57 &amp;#34;iam:DetachRolePolicy&amp;#34;, 58 &amp;#34;iam:GetRole&amp;#34;, 59 &amp;#34;iam:PassRole&amp;#34;, 60 &amp;#34;iam:PutRolePolicy&amp;#34;, 61 &amp;#34;iot:CreateTopicRule&amp;#34;, 62 &amp;#34;iot:DeleteTopicRule&amp;#34;, 63 &amp;#34;iot:DisableTopicRule&amp;#34;, 64 &amp;#34;iot:EnableTopicRule&amp;#34;, 65 &amp;#34;iot:ReplaceTopicRule&amp;#34;, 66 &amp;#34;kinesis:CreateStream&amp;#34;, 67 &amp;#34;kinesis:DeleteStream&amp;#34;, 68 &amp;#34;kinesis:DescribeStream&amp;#34;, 69 &amp;#34;lambda:*&amp;#34;, 70 &amp;#34;logs:CreateLogDelivery&amp;#34;, 71 &amp;#34;logs:CreateLogGroup&amp;#34;, 72 &amp;#34;logs:DeleteLogGroup&amp;#34;, 73 &amp;#34;logs:DescribeLogGroups&amp;#34;, 74 &amp;#34;logs:DescribeLogStreams&amp;#34;, 75 &amp;#34;logs:FilterLogEvents&amp;#34;, 76 &amp;#34;logs:GetLogEvents&amp;#34;, 77 &amp;#34;logs:PutSubscriptionFilter&amp;#34;, 78 &amp;#34;s3:CreateBucket&amp;#34;, 79 &amp;#34;s3:DeleteBucket&amp;#34;, 80 &amp;#34;s3:DeleteBucketPolicy&amp;#34;, 81 &amp;#34;s3:DeleteObject&amp;#34;, 82 &amp;#34;s3:DeleteObjectVersion&amp;#34;, 83 &amp;#34;s3:GetObject&amp;#34;, 84 &amp;#34;s3:GetObjectVersion&amp;#34;, 85 &amp;#34;s3:ListAllMyBuckets&amp;#34;, 86 &amp;#34;s3:ListBucket&amp;#34;, 87 &amp;#34;s3:PutBucketNotification&amp;#34;, 88 &amp;#34;s3:PutBucketPolicy&amp;#34;, 89 &amp;#34;s3:PutBucketTagging&amp;#34;, 90 &amp;#34;s3:PutBucketWebsite&amp;#34;, 91 &amp;#34;s3:PutEncryptionConfiguration&amp;#34;, 92 &amp;#34;s3:PutObject&amp;#34;, 93 &amp;#34;sns:CreateTopic&amp;#34;, 94 &amp;#34;sns:DeleteTopic&amp;#34;, 95 &amp;#34;sns:GetSubscriptionAttributes&amp;#34;, 96 &amp;#34;sns:GetTopicAttributes&amp;#34;, 97 &amp;#34;sns:ListSubscriptions&amp;#34;, 98 &amp;#34;sns:ListSubscriptionsByTopic&amp;#34;, 99 &amp;#34;sns:ListTopics&amp;#34;, 100 &amp;#34;sns:SetSubscriptionAttributes&amp;#34;, 101 &amp;#34;sns:SetTopicAttributes&amp;#34;, 102 &amp;#34;sns:Subscribe&amp;#34;, 103 &amp;#34;sns:Unsubscribe&amp;#34;, 104 &amp;#34;states:CreateStateMachine&amp;#34;, 105 &amp;#34;states:DeleteStateMachine&amp;#34; 106 ], 107 &amp;#34;Effect&amp;#34;: &amp;#34;Allow&amp;#34;, 108 &amp;#34;Resource&amp;#34;: &amp;#34;*&amp;#34; 109 } 110 ], 111 &amp;#34;Version&amp;#34;: &amp;#34;2012-10-17&amp;#34; 112} Create user copy the API Key &amp;amp; Secret</description></item></channel></rss>