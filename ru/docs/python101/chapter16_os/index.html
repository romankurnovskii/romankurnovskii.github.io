<!doctype html><html lang=ru dir=ltr><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=generator content="Hugo "><title>16. Модуль os | Карманная книга по Python | Roman Kurnovskii</title><meta property="og:title" content="16. Модуль os | Карманная книга по Python | Roman Kurnovskii"><meta property="og:type" content="article"><meta property="og:image" content="https://romankurnovskii.com/images/icon.png"><meta property="og:url" content="https://romankurnovskii.com/ru/docs/python101/chapter16_os/"><meta property="og:description" content="Python 101"><meta property="og:locale" content="ru"><meta property="og:site_name" content="Roman Kurnovskii"><meta property="article:published_time" content="2022-06-28T00:00:00+00:00"><meta property="article:modified_time" content="2022-11-18T07:51:15+02:00"><meta property="article:section" content="docs"><link rel=icon type=image/png sizes=32x32 href=https://romankurnovskii.com/images/icon_huc02d7296c9eb9353758cb2467c0d17b0_10773_32x32_fill_box_center_3.png><link rel=apple-touch-icon sizes=180x180 href=https://romankurnovskii.com/images/icon_huc02d7296c9eb9353758cb2467c0d17b0_10773_180x180_fill_box_center_3.png><link href=https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css rel=stylesheet crossorigin=anonymous><script src=https://unpkg.com/flowbite@1.5.1/dist/flowbite.js></script>
<script src=https://unpkg.com/axios@0.27.2/dist/axios.min.js></script>
<script src=https://unpkg.com/lunr@2.3.9/lunr.min.js></script>
<link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.2/css/all.min.css integrity="sha512-1sCRPdkRXhBV2PBLUdRb4tMg1w2YPf37qatUFeS7zlBy7jJI8Lf4VHwWfZZfpXtYSLy85pkm9GaYVYMfw5BC1A==" media=print onload='this.media="all",this.onload=null' crossorigin><script src=https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.2/js/all.min.js integrity=" sha512-8pHNiqTlsrRjVD4A/3va++W1sMbUHwWxxRPWNyVlql3T+Hgfd81Qc6FC5WMXDC+tSauxxzp1tgiAvSKFu1qIlA==" defer crossorigin></script><link rel=preconnect href=https://fonts.googleapis.com><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link href="https://fonts.googleapis.com/css2?family=Raleway:ital,wght@0,200;0,300;0,400;0,500;0,600;0,700;1,300;1,400;1,500;1,600&display=swap" rel=stylesheet><link rel=stylesheet href=https://romankurnovskii.com/css/yalla.min.c7ec176e8ca18ce892f0d7dd4156de03306c698a683533675776a9c909994c30f4fbe02baed2f6c54ef51f6b8277e88c.css><script defer src=https://romankurnovskii.com/js/yalla.min.c10f88fac8e0f4c2c802131741be30a1f629861cc319c52238e2685191e08f721da37a6696906f314554e1ec7423f51c.js></script>
<link rel=stylesheet href=https://cdn.jsdelivr.net/npm/katex@0.16.0/dist/katex.min.css media=print onload='this.media="all",this.onload=null' crossorigin><script defer src=https://cdn.jsdelivr.net/npm/katex@0.16.0/dist/katex.min.js crossorigin></script>
<script defer src=https://cdn.jsdelivr.net/npm/katex@0.16.0/dist/contrib/auto-render.min.js crossorigin></script>
<script>document.addEventListener("DOMContentLoaded",function(){renderMathInElement(document.body,{delimiters:[{left:"$$",right:"$$",display:!0},{left:"$",right:"$",display:!1},{left:"\\(",right:"\\)",display:!1},{left:"\\[",right:"\\]",display:!0}]})})</script><script defer src=https://cdn.jsdelivr.net/npm/mermaid@9.1.3/dist/mermaid.min.js crossorigin></script><meta name=description content="Python 101"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Roadmaps","item":"https://romankurnovskii.com/ru/docs/"},{"@type":"ListItem","position":2,"name":"Карманная книга по Python","item":"https://romankurnovskii.com/ru/docs/python101/"},{"@type":"ListItem","position":3,"name":"16. Модуль os","item":"https://romankurnovskii.com/ru/docs/python101/chapter16_os/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"Article","mainEntityOfPage":{"@type":"WebPage","@id":"https://romankurnovskii.com/ru/docs/python101/chapter16_os/"},"headline":"16. Модуль os | Карманная книга по Python | Roman Kurnovskii","datePublished":"2022-06-28T00:00:00+00:00","dateModified":"2022-11-18T07:51:15+02:00","wordCount":1870,"publisher":{"@type":"Person","name":"Roman Kurnovskii","logo":{"@type":"ImageObject","url":"https://romankurnovskii.com/images/icon.png"}},"description":"Python 101"}</script><link rel=preconnect href=https://www.google-analytics.com crossorigin><script async src="https://www.googletagmanager.com/gtag/js?id=G-26F2C5ZR4Y"></script>
<script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-26F2C5ZR4Y")</script><script type=text/javascript>(function(e,t,n,s,o,i,a){e[o]=e[o]||function(){(e[o].a=e[o].a||[]).push(arguments)},e[o].l=1*new Date,i=t.createElement(n),a=t.getElementsByTagName(n)[0],i.async=1,i.src=s,a.parentNode.insertBefore(i,a)})(window,document,"script","https://mc.yandex.ru/metrika/tag.js?v2","ym"),ym(87734724,"init",{clickmap:!0,trackLinks:!0,accurateTrackBounce:!0,webvisor:!0})</script><noscript><div><img src=https://mc.yandex.ru/watch/87734724 style=position:absolute;left:-9999px alt></div></noscript><script>let storageColorScheme=localStorage.getItem("lightDarkMode");const isDark2=JSON.parse(localStorage.getItem("DarkMode")||"false");isDark2?storageColorScheme="Dark":storageColorScheme="Light",((storageColorScheme=="Auto"||storageColorScheme==null)&&window.matchMedia("(prefers-color-scheme: dark)").matches||storageColorScheme=="Dark")&&document.getElementsByTagName("html")[0].classList.add("dark")</script></head><body class="flex min-h-screen flex-col"><header><div class="mx-auto w-full max-w-screen-xl"><nav class="flex items-center justify-between flex-wrap px-4 py-4 md:py-0"><button id=navbar-btn class="md:hidden flex items-center px-3 py-2" aria-label="open mobile menu">
<i class="fas fa-bars"></i></button>
<a href=/ru class="me-6 text-primary-text text-xl font-bold">Roman Kurnovskii</a><div id=mobile-burger-menu class="hidden block md:flex md:grow md:justify-between md:items-center w-full md:w-auto text-primary-text z-20"><ul id=menu><li class=parent><a href=/ru/posts/ class="block mt-4 md:inline-block md:mt-0 md:h-(16-4px) md:leading-(16-4px) box-border md:border-t-2 md:border-b-2 border-transparent me-4">Заметки</a><ul class=child><li class=parent><a href=/ru/categories/roadmaps/>Руководства <span class=expand>»</span></a><ul class=child><li class=parent><a href=/ru/docs/python101/>Справочник Python</a></li><li class=parent><a href=/ru/docs/webrtc/>Справочник WebRTC</a></li><li class=parent><a href=/ru/docs/disser/>Диссертация</a></li></ul></li><li class=parent><a href=/ru/categories/programming/>Программирование <span class=expand>»</span></a><ul class=child><li class=parent><a href=/en/docs/algorithms-101/>Algorithms [EN]</a></li><li class=parent><a href=/ru/categories/hugo/>Hugo</a></li><li class=parent><a href=/ru/categories/javascript/>JavaScript</a></li><li class=parent><a href=/ru/categories/python/>Python</a></li></ul></li><li><a href=/en/p/links/>Links</a></li></ul></li><li class=parent><a href=/ru/apps/ class="block mt-4 md:inline-block md:mt-0 md:h-(16-4px) md:leading-(16-4px) box-border md:border-t-2 md:border-b-2 border-transparent me-4">Приложения</a></li><li class=parent><a href=/ru/p/publications class="block mt-4 md:inline-block md:mt-0 md:h-(16-4px) md:leading-(16-4px) box-border md:border-t-2 md:border-b-2 border-transparent me-4">Публикации</a></li></ul></div><div class=flex><div class="relative pt-4 md:pt-0"><form id=search class="flex items-center"><label for=search-input class=sr-only>Search</label><div class="relative w-full"><input type=text type=search id=search-input class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full pl-10 p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500" placeholder=Search required></div></form></div><div class="relative pt-4 ps-2 md:pt-0"><button class="p-1 rounded border dark:border-slate-700 hover:bg-slate-200 dark:hover:bg-slate-700" onclick='location.href="/ru/search/"'>
<img width=13 src=https://img.icons8.com/ios-glyphs/30/null/search-more.png></button></div></div></nav></div><div id=is-open-mobile class="fixed hidden inset-0 opacity-0 h-full w-full cursor-default z-0"></div><script>document.addEventListener("DOMContentLoaded",()=>{switchMobileMenuBurger()})</script></header><main class="grow pt-16"><div class=pl-scrollbar><div class="mx-auto w-full max-w-screen-2xl lg:px-2 xl:px-4"><div class=lg:pt-8><div class="flex flex-col md:flex-row bg-secondary-bg rounded"><div class="md:w-1/4 lg:w-1/5 border-e"><div class="sticky mt-12"><div id=sidebar-title class="md:hidden mx-4 px-2 pt-4 pb-2 md:border-b text-tertiary-text md:text-primary-text"><span class=font-semibold>Содержание</span>
<i class='fas fa-caret-right ms-1'></i></div><div id=sidebar-toc class="hidden md:block mx-6 md:mx-0 pe-2 pt-2 md:max-h-doc-sidebar bg-primary-bg md:bg-transparent"><div class="flex flex-wrap ms-1 -me-2 p-1 bg-secondary-bg md:bg-primary-bg rounded"><a class=hover:text-yalla href=https://romankurnovskii.com/ru/docs/python101/>Карманная книга по Python</a></div><aside aria-label=Sidebar><div class="py-2 px-1"><ul id=doc__nav__sidebar class=space-y-1><li><a href=https://romankurnovskii.com/ru/docs/python101/01-intro/><span>Введение</span></a></li><li><a href=https://romankurnovskii.com/ru/docs/python101/01-part_i/><span>Часть I - Основы</span></a></li><li><a href=https://romankurnovskii.com/ru/docs/python101/chapter1_idle/><span>1. Программирование IDLE</span></a></li><li><a href=https://romankurnovskii.com/ru/docs/python101/chapter2_strings/><span>2. Все о строках</span></a></li><li><a href=https://romankurnovskii.com/ru/docs/python101/chapter3_lists_dicts/><span>3. Списки, кортежи и словари</span></a></li><li><a href=https://romankurnovskii.com/ru/docs/python101/chapter4_conditionals/><span>4. Условия</span></a></li><li><a href=https://romankurnovskii.com/ru/docs/python101/chapter5_loops/><span>5. Циклы</span></a></li><li><a href=https://romankurnovskii.com/ru/docs/python101/chapter6_comprehensions/><span>6. Генераторы в Python</span></a></li><li><a href=https://romankurnovskii.com/ru/docs/python101/chapter7_exception_handling/><span>7. Обработка исключений</span></a></li><li><a href=https://romankurnovskii.com/ru/docs/python101/chapter8_file_io/><span>8. Работа с файлами</span></a></li><li><a href=https://romankurnovskii.com/ru/docs/python101/chapter9_imports/><span>9. Импорт модулей</span></a></li><li><a href=https://romankurnovskii.com/ru/docs/python101/chapter10_functions/><span>10. Функции</span></a></li><li><a href=https://romankurnovskii.com/ru/docs/python101/chapter11_classes/><span>11. Классы</span></a></li><li><a href=https://romankurnovskii.com/ru/docs/python101/chapter12_introspection/><span>12. Интроспекция</span></a></li><li><a href=https://romankurnovskii.com/ru/docs/python101/02-part_ii/><span>Часть II - Стандартные модули</span></a></li><li><a href=https://romankurnovskii.com/ru/docs/python101/chapter13_csv/><span>13. Модуль csv</span></a></li><li><a href=https://romankurnovskii.com/ru/docs/python101/chapter14_config_parser/><span>14. Модуль configparser</span></a></li><li><a href=https://romankurnovskii.com/ru/docs/python101/chapter15_logging/><span>15. Логирование</span></a></li><li><a href=https://romankurnovskii.com/ru/docs/python101/chapter20_sys/><span>20. Модуль sys</span></a></li><li><a href=https://romankurnovskii.com/ru/docs/python101/chapter16_os/ class=bg-tertiary-bg><span>16. Модуль os</span></a></li><li><a href=https://romankurnovskii.com/ru/docs/python101/chapter17_smtplib/><span>17. Модуль email / smtplib</span></a></li><li><a href=https://romankurnovskii.com/ru/docs/python101/chapter18_sqlite/><span>18. Модуль sqlite</span></a></li><li><a href=https://romankurnovskii.com/ru/docs/python101/chapter19_subprocess/><span>19. Модуль subprocess</span></a></li><li><a href=https://romankurnovskii.com/ru/docs/python101/chapter21_thread/><span>21. Модуль потоков Thread</span></a></li><li><a href=https://romankurnovskii.com/ru/docs/python101/chapter21-1_asyncio/><span>21-1. Модуль asyncio</span></a></li><li><a href=https://romankurnovskii.com/ru/docs/python101/chapter22_time/><span>22. Работа с датами и временем</span></a></li><li><a href=https://romankurnovskii.com/ru/docs/python101/chapter23_xml/><span>23. Модуль xml</span></a></li><li><a href=https://romankurnovskii.com/ru/docs/python101/chapter24_debugging/><span>24. Отладчик Python</span></a></li><li><a href=https://romankurnovskii.com/ru/docs/python101/03-part_iii/><span>Часть III - Промежуточные вопросы и ответы</span></a></li><li><a href=https://romankurnovskii.com/ru/docs/python101/chapter25_decorators/><span>25. Декораторы</span></a></li><li><a href=https://romankurnovskii.com/ru/docs/python101/chapter26_lambda/><span>26. Лямбда</span></a></li><li><a href=https://romankurnovskii.com/ru/docs/python101/chapter27_profiling/><span>27. Профилирование кода</span></a></li><li><a href=https://romankurnovskii.com/ru/docs/python101/chapter28_testing/><span>28. Введение в тестирование</span></a></li><li><a href=https://romankurnovskii.com/ru/docs/python101/chapter29_pip/><span>29. Установка пакетов</span></a></li><li><a href=https://romankurnovskii.com/ru/docs/python101/04-part_iv/><span>Часть IV - Советы, приемы и учебные пособия</span></a></li><li><a href=https://romankurnovskii.com/ru/docs/python101/chapter30_configobj/><span>30. ConfigObj</span></a></li><li><a href=https://romankurnovskii.com/ru/docs/python101/chapter31_lxml/><span>31. Парсинг XML с помощью lxml</span></a></li><li><a href=https://romankurnovskii.com/ru/docs/python101/chapter32_pylint/><span>32. Анализ кода Python</span></a></li><li><a href=https://romankurnovskii.com/ru/docs/python101/chapter33_requests/><span>33. Пакет requests</span></a></li><li><a href=https://romankurnovskii.com/ru/docs/python101/chapter34_sqlalchemy/><span>34. Пакет SQLAlchemy</span></a></li><li><a href=https://romankurnovskii.com/ru/docs/python101/chapter35_virtualenv/><span>35. virtualenv</span></a></li><li><a href=https://romankurnovskii.com/ru/docs/python101/chapter36_creating_modules_and_packages/><span>36. Создание модулей и пакетов</span></a></li><li><a href=https://romankurnovskii.com/ru/docs/python101/05-part_v/><span>Часть V - Упаковка и распространение</span></a></li><li><a href=https://romankurnovskii.com/ru/docs/python101/chapter37_pypi_packaging/><span>37. Как добавить пакет в PyPI</span></a></li><li><a href=https://romankurnovskii.com/ru/docs/python101/chapter38_eggs/><span>38. Python egg</span></a></li><li><a href=https://romankurnovskii.com/ru/docs/python101/chapter39_wheels/><span>39. Python wheels</span></a></li><li><a href=https://romankurnovskii.com/ru/docs/python101/chapter40_py2exe/><span>40. py2exe</span></a></li><li><a href=https://romankurnovskii.com/ru/docs/python101/chapter41_bb_freeze/><span>41. bbfreeze</span></a></li><li><a href=https://romankurnovskii.com/ru/docs/python101/chapter42_cx_freeze/><span>42. cx_Freeze</span></a></li><li><a href=https://romankurnovskii.com/ru/docs/python101/chapter43_pyinstaller/><span>43. PyInstaller</span></a></li><li><a href=https://romankurnovskii.com/ru/docs/python101/chapter44_creating_an_installer/><span>44. Создание программы установки</span></a></li><li><a href=https://romankurnovskii.com/ru/docs/python101/chapter45_hosting/><span>45. Хостинг Python приложения</span></a></li></ul></div></aside></div></div></div><div class="w-full md:w-3/4 lg:w-4/5 pb-2 pt-2 md:pt-2"><div class=flex><div class="w-full lg:w-3/4 px-6"><article class=prose><h1>16. Модуль os</h1><div class="text-tertiary-text text-sm not-prose mt-2 flex flex-row flex-wrap items-center"><div class=me-4><i class="fa-regular fa-calendar-days"></i>
<span>Обновлено: 2022-11-18</span></div><div class=me-4><i class="fa-regular fa-clock"></i>
<span>9 мин</span></div><div id=page__views__div class="me-4 my-2"><i class="fa-regular fa-eye me-1"></i>
<span id=page__views></span></div></div><div class="block lg:hidden"><h3 class=text-lg>Содержание</h3><div class=break-words><nav id=TableOfContents><ul><li><a href=#osname>os.name</a></li><li><a href=#osenviron-osgetenv-и-osputenv>os.environ, os.getenv() и os.putenv()</a></li><li><a href=#oschdir-и-osgetcwd>os.chdir() и os.getcwd()</a></li><li><a href=#osmkdir-и-osmakedirs>os.mkdir() и os.makedirs()</a></li><li><a href=#osremove-и-osrmdir>os.remove() и os.rmdir()</a></li><li><a href=#osrenamesrc-dst>os.rename(src, dst)</a></li><li><a href=#osstartfile>os.startfile()</a></li><li><a href=#oswalk>os.walk()</a></li><li><a href=#ospath>os.path</a></li><li><a href=#ospathbasename>os.path.basename</a></li><li><a href=#ospathdirname>os.path.dirname</a></li><li><a href=#ospathexists>os.path.exists</a></li><li><a href=#ospathisdir--ospathisfile>os.path.isdir / os.path.isfile</a></li><li><a href=#ospathjoin>os.path.join</a></li><li><a href=#ospathsplit>os.path.split</a></li><li><a href=#подведение-итогов>Подведение итогов</a></li></ul></nav></div></div><p>Модуль os имеет множество применений. Мы не будем рассматривать все его возможности. Вместо этого мы получим обзор его возможностей, а также рассмотрим один из его подмодулей, известный как <strong>os.path</strong>. В частности, мы рассмотрим следующее:</p><ul><li>os.name</li><li>os.environ</li><li>os.chdir()</li><li>os.getcwd()</li><li>os.getenv()</li><li>os.putenv()</li><li>os.mkdir()</li><li>os.makedirs()</li><li>os.remove()</li><li>os.rename()</li><li>os.rmdir()</li><li>os.startfile()</li><li>os.walk()</li><li>os.path</li></ul><p>Кажется, что этого очень много, но существует примерно в десять раз больше других действий, которые может выполнять модуль os. В этой главе мы просто дадим вам небольшое представление о том, что доступно. Чтобы использовать любой из методов, упомянутых в этом разделе, вам нужно импортировать модуль <strong>os</strong>, как показано ниже:</p><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-0-1><a style=outline:none;text-decoration:none;color:inherit href=#hl-0-1>1</a></span><span><span style=color:#00a>import</span> <span style=color:#0aa;text-decoration:underline>os</span>
</span></span></code></pre></div><p>Давайте начнем изучать, как использовать этот модуль!</p><h2 id=osname>os.name</h2><p>Модуль os имеет как вызываемые функции, так и обычные значения. В случае с os.name это просто значение. Когда вы обращаетесь к os.name, вы получите информацию о том, на какой платформе вы работаете. Вы увидите одно из следующих значений: &lsquo;posix&rsquo;, &rsquo;nt&rsquo;, &lsquo;os2&rsquo;, &lsquo;ce&rsquo;, &lsquo;java&rsquo;, &lsquo;riscos&rsquo;. Давайте посмотрим, что мы получим при запуске на Windows 7:</p><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-1-1><a style=outline:none;text-decoration:none;color:inherit href=#hl-1-1>1</a></span><span>&gt;&gt;&gt; <span style=color:#00a>import</span> <span style=color:#0aa;text-decoration:underline>os</span>
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-1-2><a style=outline:none;text-decoration:none;color:inherit href=#hl-1-2>2</a></span><span>&gt;&gt;&gt; os.name
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-1-3><a style=outline:none;text-decoration:none;color:inherit href=#hl-1-3>3</a></span><span><span style=color:#a50>&#39;nt&#39;</span>
</span></span></code></pre></div><p>Это говорит нам о том, что наш экземпляр Python запущен на компьютере под управлением Windows. Откуда мы это знаем? Потому что Microsoft начала называть свою операционную систему NT много лет назад. Например, Windows 7 также известна как Windows NT 6.1.</p><h2 id=osenviron-osgetenv-и-osputenv>os.environ, os.getenv() и os.putenv()</h2><p>Значение <strong>os.environ</strong> известно как объект <strong>mapping</strong>, который возвращает словарь переменных окружения пользователя. Вы можете этого не знать, но каждый раз, когда вы используете свой компьютер, устанавливаются некоторые переменные окружения. Они могут дать вам ценную информацию, например, количество процессоров, тип ЦП, имя компьютера и т.д. Давайте посмотрим, что мы можем узнать о нашей машине:</p><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-2-1><a style=outline:none;text-decoration:none;color:inherit href=#hl-2-1> 1</a></span><span>&gt;&gt;&gt; <span style=color:#00a>import</span> <span style=color:#0aa;text-decoration:underline>os</span>
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-2-2><a style=outline:none;text-decoration:none;color:inherit href=#hl-2-2> 2</a></span><span>&gt;&gt;&gt; os.environ
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-2-3><a style=outline:none;text-decoration:none;color:inherit href=#hl-2-3> 3</a></span><span>{<span style=color:#a50>&#39;ALLUSERSPROFILE&#39;</span>: <span style=color:#a50>&#39;C:</span><span style=color:#a50>\\</span><span style=color:#a50>ProgramData&#39;</span>,
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-2-4><a style=outline:none;text-decoration:none;color:inherit href=#hl-2-4> 4</a></span><span> <span style=color:#a50>&#39;APPDATA&#39;</span>: <span style=color:#a50>&#39;C:</span><span style=color:#a50>\\</span><span style=color:#a50>Users</span><span style=color:#a50>\\</span><span style=color:#a50>mike</span><span style=color:#a50>\\</span><span style=color:#a50>AppData</span><span style=color:#a50>\\</span><span style=color:#a50>Roaming&#39;</span>,
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-2-5><a style=outline:none;text-decoration:none;color:inherit href=#hl-2-5> 5</a></span><span> <span style=color:#a50>&#39;CLASSPATH&#39;</span>: <span style=color:#a50>&#39;.;C:</span><span style=color:#a50>\\</span><span style=color:#a50>Program Files</span><span style=color:#a50>\\</span><span style=color:#a50>QuickTime</span><span style=color:#a50>\\</span><span style=color:#a50>QTSystem</span><span style=color:#a50>\\</span><span style=color:#a50>QTJava.zip&#39;</span>,
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-2-6><a style=outline:none;text-decoration:none;color:inherit href=#hl-2-6> 6</a></span><span> <span style=color:#a50>&#39;COMMONPROGRAMFILES&#39;</span>: <span style=color:#a50>&#39;C:</span><span style=color:#a50>\\</span><span style=color:#a50>Program Files</span><span style=color:#a50>\\</span><span style=color:#a50>Common Files&#39;</span>,
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-2-7><a style=outline:none;text-decoration:none;color:inherit href=#hl-2-7> 7</a></span><span> <span style=color:#a50>&#39;COMPUTERNAME&#39;</span>: <span style=color:#a50>&#39;MIKE-PC&#39;</span>,
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-2-8><a style=outline:none;text-decoration:none;color:inherit href=#hl-2-8> 8</a></span><span> <span style=color:#a50>&#39;COMSPEC&#39;</span>: <span style=color:#a50>&#39;C:</span><span style=color:#a50>\\</span><span style=color:#a50>Windows</span><span style=color:#a50>\\</span><span style=color:#a50>system32</span><span style=color:#a50>\\</span><span style=color:#a50>cmd.exe&#39;</span>,
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-2-9><a style=outline:none;text-decoration:none;color:inherit href=#hl-2-9> 9</a></span><span> <span style=color:#a50>&#39;FP_NO_HOST_CHECK&#39;</span>: <span style=color:#a50>&#39;NO&#39;</span>,
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-2-10><a style=outline:none;text-decoration:none;color:inherit href=#hl-2-10>10</a></span><span> <span style=color:#a50>&#39;HOMEDRIVE&#39;</span>: <span style=color:#a50>&#39;C:&#39;</span>,
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-2-11><a style=outline:none;text-decoration:none;color:inherit href=#hl-2-11>11</a></span><span> <span style=color:#a50>&#39;HOMEPATH&#39;</span>: <span style=color:#a50>&#39;</span><span style=color:#a50>\\</span><span style=color:#a50>Users</span><span style=color:#a50>\\</span><span style=color:#a50>mike&#39;</span>,
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-2-12><a style=outline:none;text-decoration:none;color:inherit href=#hl-2-12>12</a></span><span> <span style=color:#a50>&#39;LOCALAPPDATA&#39;</span>: <span style=color:#a50>&#39;C:</span><span style=color:#a50>\\</span><span style=color:#a50>Users</span><span style=color:#a50>\\</span><span style=color:#a50>mike</span><span style=color:#a50>\\</span><span style=color:#a50>AppData</span><span style=color:#a50>\\</span><span style=color:#a50>Local&#39;</span>,
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-2-13><a style=outline:none;text-decoration:none;color:inherit href=#hl-2-13>13</a></span><span> <span style=color:#a50>&#39;LOGONSERVER&#39;</span>: <span style=color:#a50>&#39;</span><span style=color:#a50>\\\\</span><span style=color:#a50>MIKE-PC&#39;</span>,
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-2-14><a style=outline:none;text-decoration:none;color:inherit href=#hl-2-14>14</a></span><span> <span style=color:#a50>&#39;NUMBER_OF_PROCESSORS&#39;</span>: <span style=color:#a50>&#39;2&#39;</span>,
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-2-15><a style=outline:none;text-decoration:none;color:inherit href=#hl-2-15>15</a></span><span> <span style=color:#a50>&#39;OS&#39;</span>: <span style=color:#a50>&#39;Windows_NT&#39;</span>,
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-2-16><a style=outline:none;text-decoration:none;color:inherit href=#hl-2-16>16</a></span><span> <span style=color:#a50>&#39;PATHEXT&#39;</span>: <span style=color:#a50>&#39;.COM;.EXE;.BAT;.CMD;.VBS;.VBE;.JS;.JSE;.WSF;.WSH;.MSC&#39;</span>,
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-2-17><a style=outline:none;text-decoration:none;color:inherit href=#hl-2-17>17</a></span><span> <span style=color:#a50>&#39;PROCESSOR_ARCHITECTURE&#39;</span>: <span style=color:#a50>&#39;x86&#39;</span>,
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-2-18><a style=outline:none;text-decoration:none;color:inherit href=#hl-2-18>18</a></span><span> <span style=color:#a50>&#39;PROCESSOR_IDENTIFIER&#39;</span>: <span style=color:#a50>&#39;x86 Family 6 Model 15 Stepping 13, GenuineIntel&#39;</span>,
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-2-19><a style=outline:none;text-decoration:none;color:inherit href=#hl-2-19>19</a></span><span> <span style=color:#a50>&#39;PROCESSOR_LEVEL&#39;</span>: <span style=color:#a50>&#39;6&#39;</span>,
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-2-20><a style=outline:none;text-decoration:none;color:inherit href=#hl-2-20>20</a></span><span> <span style=color:#a50>&#39;PROGRAMDATA&#39;</span>: <span style=color:#a50>&#39;C:</span><span style=color:#a50>\\</span><span style=color:#a50>ProgramData&#39;</span>,
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-2-21><a style=outline:none;text-decoration:none;color:inherit href=#hl-2-21>21</a></span><span> <span style=color:#a50>&#39;PROGRAMFILES&#39;</span>: <span style=color:#a50>&#39;C:</span><span style=color:#a50>\\</span><span style=color:#a50>Program Files&#39;</span>,
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-2-22><a style=outline:none;text-decoration:none;color:inherit href=#hl-2-22>22</a></span><span> <span style=color:#a50>&#39;PSMODULEPATH&#39;</span>: <span style=color:#a50>&#39;C:</span><span style=color:#a50>\\</span><span style=color:#a50>Windows</span><span style=color:#a50>\\</span><span style=color:#a50>system32</span><span style=color:#a50>\\</span><span style=color:#a50>WindowsPowerShell</span><span style=color:#a50>\\</span><span style=color:#a50>v1.0</span><span style=color:#a50>\\</span><span style=color:#a50>Modules</span><span style=color:#a50>\\</span><span style=color:#a50>&#39;</span>,
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-2-23><a style=outline:none;text-decoration:none;color:inherit href=#hl-2-23>23</a></span><span> <span style=color:#a50>&#39;PUBLIC&#39;</span>: <span style=color:#a50>&#39;C:</span><span style=color:#a50>\\</span><span style=color:#a50>Users</span><span style=color:#a50>\\</span><span style=color:#a50>Public&#39;</span>,
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-2-24><a style=outline:none;text-decoration:none;color:inherit href=#hl-2-24>24</a></span><span> <span style=color:#a50>&#39;PYTHONIOENCODING&#39;</span>: <span style=color:#a50>&#39;cp437&#39;</span>,
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-2-25><a style=outline:none;text-decoration:none;color:inherit href=#hl-2-25>25</a></span><span> <span style=color:#a50>&#39;QTJAVA&#39;</span>: <span style=color:#a50>&#39;C:</span><span style=color:#a50>\\</span><span style=color:#a50>Program Files</span><span style=color:#a50>\\</span><span style=color:#a50>QuickTime</span><span style=color:#a50>\\</span><span style=color:#a50>QTSystem</span><span style=color:#a50>\\</span><span style=color:#a50>QTJava.zip&#39;</span>,
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-2-26><a style=outline:none;text-decoration:none;color:inherit href=#hl-2-26>26</a></span><span> <span style=color:#a50>&#39;SESSIONNAME&#39;</span>: <span style=color:#a50>&#39;Console&#39;</span>,
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-2-27><a style=outline:none;text-decoration:none;color:inherit href=#hl-2-27>27</a></span><span> <span style=color:#a50>&#39;SYSTEMDRIVE&#39;</span>: <span style=color:#a50>&#39;C:&#39;</span>,
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-2-28><a style=outline:none;text-decoration:none;color:inherit href=#hl-2-28>28</a></span><span> <span style=color:#a50>&#39;SYSTEMROOT&#39;</span>: <span style=color:#a50>&#39;C:</span><span style=color:#a50>\\</span><span style=color:#a50>Windows&#39;</span>,
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-2-29><a style=outline:none;text-decoration:none;color:inherit href=#hl-2-29>29</a></span><span> <span style=color:#a50>&#39;TEMP&#39;</span>: <span style=color:#a50>&#39;C:</span><span style=color:#a50>\\</span><span style=color:#a50>Users</span><span style=color:#a50>\\</span><span style=color:#a50>mike</span><span style=color:#a50>\\</span><span style=color:#a50>AppData</span><span style=color:#a50>\\</span><span style=color:#a50>Local</span><span style=color:#a50>\\</span><span style=color:#a50>Temp&#39;</span>,
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-2-30><a style=outline:none;text-decoration:none;color:inherit href=#hl-2-30>30</a></span><span> <span style=color:#a50>&#39;TMP&#39;</span>: <span style=color:#a50>&#39;C:</span><span style=color:#a50>\\</span><span style=color:#a50>Users</span><span style=color:#a50>\\</span><span style=color:#a50>mike</span><span style=color:#a50>\\</span><span style=color:#a50>AppData</span><span style=color:#a50>\\</span><span style=color:#a50>Local</span><span style=color:#a50>\\</span><span style=color:#a50>Temp&#39;</span>,
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-2-31><a style=outline:none;text-decoration:none;color:inherit href=#hl-2-31>31</a></span><span> <span style=color:#a50>&#39;USERDOMAIN&#39;</span>: <span style=color:#a50>&#39;mike-PC&#39;</span>,
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-2-32><a style=outline:none;text-decoration:none;color:inherit href=#hl-2-32>32</a></span><span> <span style=color:#a50>&#39;USERNAME&#39;</span>: <span style=color:#a50>&#39;mike&#39;</span>,
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-2-33><a style=outline:none;text-decoration:none;color:inherit href=#hl-2-33>33</a></span><span> <span style=color:#a50>&#39;USERPROFILE&#39;</span>: <span style=color:#a50>&#39;C:</span><span style=color:#a50>\\</span><span style=color:#a50>Users</span><span style=color:#a50>\\</span><span style=color:#a50>mike&#39;</span>,
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-2-34><a style=outline:none;text-decoration:none;color:inherit href=#hl-2-34>34</a></span><span> <span style=color:#a50>&#39;VBOX_INSTALL_PATH&#39;</span>: <span style=color:#a50>&#39;C:</span><span style=color:#a50>\\</span><span style=color:#a50>Program Files</span><span style=color:#a50>\\</span><span style=color:#a50>Oracle</span><span style=color:#a50>\\</span><span style=color:#a50>VirtualBox</span><span style=color:#a50>\\</span><span style=color:#a50>&#39;</span>,
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-2-35><a style=outline:none;text-decoration:none;color:inherit href=#hl-2-35>35</a></span><span> <span style=color:#a50>&#39;VS90COMNTOOLS&#39;</span>: <span style=color:#a50>&#39;C:</span><span style=color:#a50>\\</span><span style=color:#a50>Program Files</span><span style=color:#a50>\\</span><span style=color:#a50>Microsoft Visual Studio 9.0</span><span style=color:#a50>\\</span><span style=color:#a50>Common7</span><span style=color:#a50>\\</span><span style=color:#a50>Tools</span><span style=color:#a50>\\</span><span style=color:#a50>&#39;</span>,
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-2-36><a style=outline:none;text-decoration:none;color:inherit href=#hl-2-36>36</a></span><span> <span style=color:#a50>&#39;WINDIR&#39;</span>: <span style=color:#a50>&#39;C:</span><span style=color:#a50>\\</span><span style=color:#a50>Windows&#39;</span>,
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-2-37><a style=outline:none;text-decoration:none;color:inherit href=#hl-2-37>37</a></span><span> <span style=color:#a50>&#39;WINDOWS_TRACING_FLAGS&#39;</span>: <span style=color:#a50>&#39;3&#39;</span>,
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-2-38><a style=outline:none;text-decoration:none;color:inherit href=#hl-2-38>38</a></span><span> <span style=color:#a50>&#39;WINDOWS_TRACING_LOGFILE&#39;</span>: <span style=color:#a50>&#39;C:</span><span style=color:#a50>\\</span><span style=color:#a50>BVTBin</span><span style=color:#a50>\\</span><span style=color:#a50>Tests</span><span style=color:#a50>\\</span><span style=color:#a50>installpackage</span><span style=color:#a50>\\</span><span style=color:#a50>csilogfile.log&#39;</span>,
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-2-39><a style=outline:none;text-decoration:none;color:inherit href=#hl-2-39>39</a></span><span> <span style=color:#a50>&#39;WINGDB_ACTIVE&#39;</span>: <span style=color:#a50>&#39;1&#39;</span>,
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-2-40><a style=outline:none;text-decoration:none;color:inherit href=#hl-2-40>40</a></span><span> <span style=color:#a50>&#39;WINGDB_PYTHON&#39;</span>: <span style=color:#a50>&#39;c:</span><span style=color:#a50>\\</span><span style=color:#a50>python27</span><span style=color:#a50>\\</span><span style=color:#a50>python.exe&#39;</span>,
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-2-41><a style=outline:none;text-decoration:none;color:inherit href=#hl-2-41>41</a></span><span> <span style=color:#a50>&#39;WINGDB_SPAWNCOOKIE&#39;</span>: <span style=color:#a50>&#39;rvlxwsGdD7SHYIJm&#39;</span>}
</span></span></code></pre></div><p>Ваш результат не будет таким же, как у меня, поскольку конфигурация ПК у всех немного отличается, но вы увидите нечто похожее. Как вы могли заметить, это возвращает словарь. Значит, вы можете получить доступ к переменным окружения, используя обычные методы работы со словарями. Вот пример:</p><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-3-1><a style=outline:none;text-decoration:none;color:inherit href=#hl-3-1>1</a></span><span>&gt;&gt;&gt; <span style=color:#0aa>print</span>(os.environ[<span style=color:#a50>&#34;TMP&#34;</span>])
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-3-2><a style=outline:none;text-decoration:none;color:inherit href=#hl-3-2>2</a></span><span><span style=color:#a50>&#39;C:</span><span style=color:#a50>\\</span><span style=color:#a50>Users</span><span style=color:#a50>\\</span><span style=color:#a50>mike</span><span style=color:#a50>\\</span><span style=color:#a50>AppData</span><span style=color:#a50>\\</span><span style=color:#a50>Local</span><span style=color:#a50>\\</span><span style=color:#a50>Temp&#39;</span>
</span></span></code></pre></div><p>Вы также можете использовать функцию <strong>os.getenv</strong> для доступа к этой переменной среды:</p><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-4-1><a style=outline:none;text-decoration:none;color:inherit href=#hl-4-1>1</a></span><span>&gt;&gt;&gt; os.getenv(<span style=color:#a50>&#34;TMP&#34;</span>)
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-4-2><a style=outline:none;text-decoration:none;color:inherit href=#hl-4-2>2</a></span><span><span style=color:#a50>&#39;C:</span><span style=color:#a50>\\</span><span style=color:#a50>Users</span><span style=color:#a50>\\</span><span style=color:#a50>mike</span><span style=color:#a50>\\</span><span style=color:#a50>AppData</span><span style=color:#a50>\\</span><span style=color:#a50>Local</span><span style=color:#a50>\\</span><span style=color:#a50>Temp&#39;</span>
</span></span></code></pre></div><p>Преимущество использования os.getenv() вместо словаря os.environ заключается в том, что если вы попытаетесь получить доступ к несуществующей переменной окружения, функция getenv просто вернет None. Если бы вы сделали то же самое с os.environ, то получили бы ошибку. Давайте попробуем это сделать, чтобы вы могли увидеть, что произойдет:</p><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-5-1><a style=outline:none;text-decoration:none;color:inherit href=#hl-5-1> 1</a></span><span>&gt;&gt;&gt; os.environ[<span style=color:#a50>&#34;TMP2&#34;</span>]
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-5-2><a style=outline:none;text-decoration:none;color:inherit href=#hl-5-2> 2</a></span><span>Traceback (most recent call last):
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-5-3><a style=outline:none;text-decoration:none;color:inherit href=#hl-5-3> 3</a></span><span>  File <span style=color:#a50>&#34;&lt;pyshell#1&gt;&#34;</span>, line <span style=color:#099>1</span>, <span style=color:#00a>in</span> &lt;module&gt;
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-5-4><a style=outline:none;text-decoration:none;color:inherit href=#hl-5-4> 4</a></span><span>    os.environ[<span style=color:#a50>&#34;TMP2&#34;</span>]
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-5-5><a style=outline:none;text-decoration:none;color:inherit href=#hl-5-5> 5</a></span><span>  File <span style=color:#a50>&#34;C:\Python27\lib\os.py&#34;</span>, line <span style=color:#099>423</span>, <span style=color:#00a>in</span> __getitem__
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-5-6><a style=outline:none;text-decoration:none;color:inherit href=#hl-5-6> 6</a></span><span>    <span style=color:#00a>return</span> self.data[key.upper()]
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-5-7><a style=outline:none;text-decoration:none;color:inherit href=#hl-5-7> 7</a></span><span>KeyError: <span style=color:#a50>&#39;TMP2&#39;</span>
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-5-8><a style=outline:none;text-decoration:none;color:inherit href=#hl-5-8> 8</a></span><span>
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-5-9><a style=outline:none;text-decoration:none;color:inherit href=#hl-5-9> 9</a></span><span>&gt;&gt;&gt; <span style=color:#0aa>print</span>(os.getenv(<span style=color:#a50>&#34;TMP2&#34;</span>))
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-5-10><a style=outline:none;text-decoration:none;color:inherit href=#hl-5-10>10</a></span><span><span style=color:#00a>None</span>
</span></span></code></pre></div><h2 id=oschdir-и-osgetcwd>os.chdir() и os.getcwd()</h2><p>Функция <strong>os.chdir</strong> позволяет нам изменить каталог, в котором в данный момент запущена наша сессия Python. Если вы хотите узнать, в каком каталоге вы сейчас находитесь, то вызовите <strong>os.getcwd()</strong>. Давайте попробуем использовать обе функции:</p><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-6-1><a style=outline:none;text-decoration:none;color:inherit href=#hl-6-1>1</a></span><span>&gt;&gt;&gt; os.getcwd()
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-6-2><a style=outline:none;text-decoration:none;color:inherit href=#hl-6-2>2</a></span><span><span style=color:#a50>&#39;C:\\Python27&#39;</span>
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-6-3><a style=outline:none;text-decoration:none;color:inherit href=#hl-6-3>3</a></span><span>&gt;&gt;&gt; os.chdir(r<span style=color:#a50>&#34;c:\Users\mike\Documents&#34;</span>)
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-6-4><a style=outline:none;text-decoration:none;color:inherit href=#hl-6-4>4</a></span><span>&gt;&gt;&gt; os.getcwd()
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-6-5><a style=outline:none;text-decoration:none;color:inherit href=#hl-6-5>5</a></span><span><span style=color:#a50>&#39;c:\\Users\\mike\\Documents&#39;</span>
</span></span></code></pre></div><p>Код выше показывает нам, что мы начали работу в каталоге Python по умолчанию, когда мы запускаем этот код в IDLE. Затем мы меняем папки с помощью <strong>os.chdir()</strong>. Наконец, мы вызываем os.getcwd() во второй раз, чтобы убедиться, что мы успешно перешли в папку.</p><h2 id=osmkdir-и-osmakedirs>os.mkdir() и os.makedirs()</h2><p>Возможно, вы уже догадались, но два метода, рассматриваемые в этом разделе, используются для создания каталогов. Первый из них - <strong>os.mkdir()</strong>, который позволяет нам создать одну папку. Давайте попробуем это сделать:</p><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-7-1><a style=outline:none;text-decoration:none;color:inherit href=#hl-7-1>1</a></span><span>&gt;&gt;&gt; os.mkdir(<span style=color:#a50>&#34;test&#34;</span>)
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-7-2><a style=outline:none;text-decoration:none;color:inherit href=#hl-7-2>2</a></span><span>&gt;&gt;&gt; path = <span style=color:#a50>r</span><span style=color:#a50>&#39;C:\Users\mike\Documents\pytest&#39;</span>
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-7-3><a style=outline:none;text-decoration:none;color:inherit href=#hl-7-3>3</a></span><span>&gt;&gt;&gt; os.mkdir(path
</span></span></code></pre></div><p>Первая строка кода создаст папку с именем <strong>test</strong> в текущем каталоге. Вы можете использовать методы из предыдущего раздела, чтобы выяснить, куда вы только что запустили свой код, если забыли. Во втором примере путь присваивается переменной, а затем мы передаем путь в os.mkdir(). Это позволяет вам создать папку в любом месте вашей системы, на которое у вас есть права.</p><p>Функция <strong>os.makedirs()</strong> создаст все промежуточные папки в пути, если они еще не существуют. В принципе, это означает, что вы можете создать путь, содержащий вложенные папки. Я часто так делаю, когда создаю файл журнала, который находится в датированной структуре папок, например, Год/Месяц/День. Давайте рассмотрим пример:</p><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-8-1><a style=outline:none;text-decoration:none;color:inherit href=#hl-8-1>1</a></span><span>&gt;&gt;&gt; path = <span style=color:#a50>r</span><span style=color:#a50>&#39;C:\Users\mike\Documents\pytest\2014\02\19&#39;</span>
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-8-2><a style=outline:none;text-decoration:none;color:inherit href=#hl-8-2>2</a></span><span>&gt;&gt;&gt; os.makedirs(path)
</span></span></code></pre></div><p>Что здесь произошло? Этот код просто создал кучу папок! Если в вашей системе все еще была папка <strong>pytest</strong>, то она просто добавила папку <strong>2014</strong> с другой папкой внутри, которая также содержала папку. Попробуйте сделать это сами, используя правильный путь в вашей системе.</p><h2 id=osremove-и-osrmdir>os.remove() и os.rmdir()</h2><p>Функции <strong>os.remove()</strong> и <strong>os.rmdir()</strong> используются для удаления файлов и каталогов соответственно. Давайте рассмотрим пример работы <strong>os.remove()</strong>:</p><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-9-1><a style=outline:none;text-decoration:none;color:inherit href=#hl-9-1>1</a></span><span>&gt;&gt;&gt; os.remove(<span style=color:#a50>&#34;test.txt&#34;</span>)
</span></span></code></pre></div><p>Этот фрагмент кода попытается удалить файл с именем <strong>test.txt</strong> из текущего рабочего каталога. Если он не сможет найти файл, вы, скорее всего, получите какую-либо ошибку. Вы также получите ошибку, если файл используется (т.е. заблокирован) или у вас нет разрешения на удаление файла. Возможно, вы также захотите проверить <strong>os.unlink</strong>, который делает то же самое. Термин <strong>unlink</strong> - это традиционное название этой процедуры в Unix.</p><p>Теперь давайте рассмотрим пример <strong>os.rmdir()</strong>:</p><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-10-1><a style=outline:none;text-decoration:none;color:inherit href=#hl-10-1>1</a></span><span>&gt;&gt;&gt; os.rmdir(<span style=color:#a50>&#34;pytest&#34;</span>)
</span></span></code></pre></div><p>Приведенный выше код попытается удалить каталог с именем <strong>pytest</strong> из текущего рабочего каталога. Если попытка успешна, вы увидите, что каталог больше не существует. Если каталог не существует, у вас нет разрешения на его удаление или каталог не пуст, будет выдана ошибка. Возможно, вы также захотите взглянуть на <strong>os.removedirs()</strong>, которая может рекурсивно удалять вложенные пустые каталоги.</p><h2 id=osrenamesrc-dst>os.rename(src, dst)</h2><p>Функция os.rename() переименовывает файл или папку. Давайте рассмотрим пример переименования файла:</p><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-11-1><a style=outline:none;text-decoration:none;color:inherit href=#hl-11-1>1</a></span><span>&gt;&gt;&gt; os.rename(<span style=color:#a50>&#34;test.txt&#34;</span>, <span style=color:#a50>&#34;pytest.txt&#34;</span>)
</span></span></code></pre></div><p>В этом примере мы говорим <strong>os.rename</strong> переименовать файл с именем <strong>test.txt</strong> в <strong>pytest.txt</strong>. Это происходит в нашем текущем рабочем каталоге. Вы увидите ошибку, если попытаетесь переименовать несуществующий файл или если у вас нет соответствующего разрешения на переименование файла.</p><p>Существует также функция <strong>os.renames</strong>, которая рекурсивно переименовывает каталог или файл.</p><h2 id=osstartfile>os.startfile()</h2><p>Метод <strong>os.startfile()</strong> позволяет нам &ldquo;запустить&rdquo; файл с помощью связанной с ним программы. Другими словами, мы можем открыть файл с помощью связанной с ним программы, как если бы вы дважды щелкнули по PDF-файлу, и он открылся бы в Adobe Reader. Давайте попробуем!</p><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-12-1><a style=outline:none;text-decoration:none;color:inherit href=#hl-12-1>1</a></span><span>&gt;&gt;&gt; os.startfile(<span style=color:#a50>r</span><span style=color:#a50>&#39;C:\Users\mike\Documents\labels.pdf&#39;</span>)
</span></span></code></pre></div><p>В приведенном выше примере я передаю <strong>os.startfile</strong> полный путь, который указывает ему открыть файл под названием <strong>labels.pdf</strong>. На моей машине это приведет к открытию PDF в Adobe Reader. Вы должны попробовать открыть свои собственные PDF, MP3 и фотографии с помощью этого метода, чтобы увидеть, как он работает.</p><h2 id=oswalk>os.walk()</h2><p>Метод os.walk() дает нам способ итерации по пути корневого уровня. Это означает, что мы можем передать путь в эту функцию и получить доступ ко всем его подкаталогам и файлам. Давайте воспользуемся одной из папок Python, которые у нас есть под рукой, чтобы протестировать эту функцию. Мы будем использовать: C:\Python27\Tools</p><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-13-1><a style=outline:none;text-decoration:none;color:inherit href=#hl-13-1> 1</a></span><span>&gt;&gt;&gt; path = <span style=color:#a50>r</span><span style=color:#a50>&#39;C:\Python27\Tools&#39;</span>
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-13-2><a style=outline:none;text-decoration:none;color:inherit href=#hl-13-2> 2</a></span><span>&gt;&gt;&gt; <span style=color:#00a>for</span> root, dirs, files <span style=color:#00a>in</span> os.walk(path):
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-13-3><a style=outline:none;text-decoration:none;color:inherit href=#hl-13-3> 3</a></span><span>        <span style=color:#0aa>print</span>(root)
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-13-4><a style=outline:none;text-decoration:none;color:inherit href=#hl-13-4> 4</a></span><span>
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-13-5><a style=outline:none;text-decoration:none;color:inherit href=#hl-13-5> 5</a></span><span>C:\Python27\Tools
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-13-6><a style=outline:none;text-decoration:none;color:inherit href=#hl-13-6> 6</a></span><span>C:\Python27\Tools\i18n
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-13-7><a style=outline:none;text-decoration:none;color:inherit href=#hl-13-7> 7</a></span><span>C:\Python27\Tools\pynche
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-13-8><a style=outline:none;text-decoration:none;color:inherit href=#hl-13-8> 8</a></span><span>C:\Python27\Tools\pynche\X
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-13-9><a style=outline:none;text-decoration:none;color:inherit href=#hl-13-9> 9</a></span><span>C:\Python27\Tools\Scripts
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-13-10><a style=outline:none;text-decoration:none;color:inherit href=#hl-13-10>10</a></span><span>C:\Python27\Tools\versioncheck
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-13-11><a style=outline:none;text-decoration:none;color:inherit href=#hl-13-11>11</a></span><span>C:\Python27\Tools\webchecker
</span></span></code></pre></div><p>При желании можно также перебирать <strong>dirs</strong> и <strong>files</strong>. Вот один из способов сделать это:</p><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-14-1><a style=outline:none;text-decoration:none;color:inherit href=#hl-14-1>1</a></span><span>&gt;&gt;&gt; <span style=color:#00a>for</span> root, dirs, files <span style=color:#00a>in</span> os.walk(path):
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-14-2><a style=outline:none;text-decoration:none;color:inherit href=#hl-14-2>2</a></span><span>        <span style=color:#0aa>print</span>(root)
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-14-3><a style=outline:none;text-decoration:none;color:inherit href=#hl-14-3>3</a></span><span>        <span style=color:#00a>for</span> _dir <span style=color:#00a>in</span> dirs:
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-14-4><a style=outline:none;text-decoration:none;color:inherit href=#hl-14-4>4</a></span><span>            <span style=color:#0aa>print</span>(_dir)
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-14-5><a style=outline:none;text-decoration:none;color:inherit href=#hl-14-5>5</a></span><span>        <span style=color:#00a>for</span> _file <span style=color:#00a>in</span> files:
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-14-6><a style=outline:none;text-decoration:none;color:inherit href=#hl-14-6>6</a></span><span>            <span style=color:#0aa>print</span>(_file)
</span></span></code></pre></div><p>Этот фрагмент кода выведет много информации, поэтому я не буду показывать его вывод здесь, но не стесняйтесь попробовать. Теперь мы готовы к изучению работы с путями!</p><h2 id=ospath>os.path</h2><p>Подмодуль <strong>os.path</strong> модуля <strong>os</strong> имеет множество замечательных функций, встроенных в него. Мы рассмотрим следующие функции:</p><pre><code>- basename
- exists
- isdir и isfile
- join
- split
</code></pre><p>В этом подмодуле есть много других функций. Вы можете прочитать о них в документации Python, раздел 10.1.</p><h2 id=ospathbasename>os.path.basename</h2><p>Функция <strong>basename</strong> возвращает только имя файла пути. Вот пример:</p><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-15-1><a style=outline:none;text-decoration:none;color:inherit href=#hl-15-1>1</a></span><span>&gt;&gt;&gt; os.path.basename(<span style=color:#a50>r</span><span style=color:#a50>&#39;C:\Python27\Tools\pynche\ChipViewer.py&#39;</span>)
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-15-2><a style=outline:none;text-decoration:none;color:inherit href=#hl-15-2>2</a></span><span><span style=color:#a50>&#39;ChipViewer.py&#39;</span>
</span></span></code></pre></div><p>Это полезно, когда мне нужно использовать имя файла для именования какого-либо связанного файла, например, файла лога. Это часто случается, когда я обрабатываю файл данных.</p><h2 id=ospathdirname>os.path.dirname</h2><p>Функция <strong>dirname</strong> возвращает только часть пути, связанную с каталогом. Это легче понять, если мы посмотрим на некоторый код:</p><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-16-1><a style=outline:none;text-decoration:none;color:inherit href=#hl-16-1>1</a></span><span>&gt;&gt;&gt; os.path.dirname(<span style=color:#a50>r</span><span style=color:#a50>&#39;C:\Python27\Tools\pynche\ChipViewer.py&#39;</span>)
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-16-2><a style=outline:none;text-decoration:none;color:inherit href=#hl-16-2>2</a></span><span><span style=color:#a50>&#39;C:</span><span style=color:#a50>\\</span><span style=color:#a50>Python27</span><span style=color:#a50>\\</span><span style=color:#a50>Tools</span><span style=color:#a50>\\</span><span style=color:#a50>pynche&#39;</span>
</span></span></code></pre></div><p>В этом примере мы просто получаем путь к каталогу. Это также полезно, когда вы хотите сохранить другие файлы рядом с обрабатываемым файлом, например, вышеупомянутый файл лога.</p><h2 id=ospathexists>os.path.exists</h2><p>Функция <strong>exists</strong> сообщит вам, существует ли путь или нет. Все, что вам нужно сделать, это передать ей путь. Давайте посмотрим:</p><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-17-1><a style=outline:none;text-decoration:none;color:inherit href=#hl-17-1>1</a></span><span>&gt;&gt;&gt; os.path.exists(<span style=color:#a50>r</span><span style=color:#a50>&#39;C:\Python27\Tools\pynche\ChipViewer.py&#39;</span>)
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-17-2><a style=outline:none;text-decoration:none;color:inherit href=#hl-17-2>2</a></span><span><span style=color:#00a>True</span>
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-17-3><a style=outline:none;text-decoration:none;color:inherit href=#hl-17-3>3</a></span><span>&gt;&gt;&gt; os.path.exists(<span style=color:#a50>r</span><span style=color:#a50>&#39;C:\Python27\Tools\pynche\fake.py&#39;</span>)
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-17-4><a style=outline:none;text-decoration:none;color:inherit href=#hl-17-4>4</a></span><span><span style=color:#00a>False</span>
</span></span></code></pre></div><p>В первом примере мы передаем функции <strong>exists</strong> реальный путь, и она возвращает <strong>True</strong>, что означает, что путь существует. Во втором примере мы передали ей плохой путь, и она сообщила нам, что путь не существует, вернув <strong>False</strong>.</p><h2 id=ospathisdir--ospathisfile>os.path.isdir / os.path.isfile</h2><p>Методы <strong>isdir</strong> и <strong>isfile</strong> тесно связаны с методом <strong>exists</strong> тем, что они также проверяют существование. Однако <strong>isdir</strong> проверяет только, является ли путь каталогом, а <strong>isfile</strong> - только, является ли путь файлом. Если вы хотите проверить, существует ли путь независимо от того, является ли он файлом или каталогом, то вам нужно использовать метод <strong>exists</strong>. В любом случае, давайте рассмотрим несколько примеров:</p><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-18-1><a style=outline:none;text-decoration:none;color:inherit href=#hl-18-1>1</a></span><span>&gt;&gt;&gt; os.path.isfile(<span style=color:#a50>r</span><span style=color:#a50>&#39;C:\Python27\Tools\pynche\ChipViewer.py&#39;</span>)
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-18-2><a style=outline:none;text-decoration:none;color:inherit href=#hl-18-2>2</a></span><span><span style=color:#00a>True</span>
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-18-3><a style=outline:none;text-decoration:none;color:inherit href=#hl-18-3>3</a></span><span>&gt;&gt;&gt; os.path.isdir(<span style=color:#a50>r</span><span style=color:#a50>&#39;C:\Python27\Tools\pynche\ChipViewer.py&#39;</span>)
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-18-4><a style=outline:none;text-decoration:none;color:inherit href=#hl-18-4>4</a></span><span><span style=color:#00a>False</span>
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-18-5><a style=outline:none;text-decoration:none;color:inherit href=#hl-18-5>5</a></span><span>&gt;&gt;&gt; os.path.isdir(<span style=color:#a50>r</span><span style=color:#a50>&#39;C:\Python27\Tools\pynche&#39;</span>)
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-18-6><a style=outline:none;text-decoration:none;color:inherit href=#hl-18-6>6</a></span><span><span style=color:#00a>True</span>
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-18-7><a style=outline:none;text-decoration:none;color:inherit href=#hl-18-7>7</a></span><span>&gt;&gt;&gt; os.path.isfile(<span style=color:#a50>r</span><span style=color:#a50>&#39;C:\Python27\Tools\pynche&#39;</span>)
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-18-8><a style=outline:none;text-decoration:none;color:inherit href=#hl-18-8>8</a></span><span><span style=color:#00a>False</span>
</span></span></code></pre></div><p>Уделите немного времени изучению этого набора примеров. В первом примере мы передаем путь к файлу и проверяем, действительно ли этот путь является файлом. Затем во втором примере тот же путь проверяется на то, является ли он каталогом. Вы можете сами посмотреть, что из этого получилось. Затем в последних двух примерах мы немного изменили ситуацию, передав путь к каталогу тем же двум функциям. Эти примеры демонстрируют, как работают эти две функции.</p><h2 id=ospathjoin>os.path.join</h2><p>Метод <strong>join</strong> дает вам возможность соединить один или несколько компонентов пути вместе с помощью соответствующего разделителя. Например, в Windows разделителем является обратная косая черта, а в Linux - прямая косая черта. Вот как это работает:</p><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-19-1><a style=outline:none;text-decoration:none;color:inherit href=#hl-19-1>1</a></span><span>&gt;&gt;&gt; os.path.join(<span style=color:#a50>r</span><span style=color:#a50>&#39;C:\Python27\Tools\pynche&#39;</span>, <span style=color:#a50>&#39;ChipViewer.py&#39;</span>)
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-19-2><a style=outline:none;text-decoration:none;color:inherit href=#hl-19-2>2</a></span><span><span style=color:#a50>&#39;C:</span><span style=color:#a50>\\</span><span style=color:#a50>Python27</span><span style=color:#a50>\\</span><span style=color:#a50>Tools</span><span style=color:#a50>\\</span><span style=color:#a50>pynche</span><span style=color:#a50>\\</span><span style=color:#a50>ChipViewer.py&#39;</span>
</span></span></code></pre></div><p>В этом примере мы объединили путь к каталогу и путь к файлу, чтобы получить полностью квалифицированный путь. Обратите внимание, что метод join не проверяет, существует ли результат!</p><h2 id=ospathsplit>os.path.split</h2><p>Метод <strong>split</strong> разбивает путь на кортеж, содержащий каталог и файл. Давайте посмотрим:</p><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-20-1><a style=outline:none;text-decoration:none;color:inherit href=#hl-20-1>1</a></span><span>&gt;&gt;&gt; os.path.split(<span style=color:#a50>r</span><span style=color:#a50>&#39;C:\Python27\Tools\pynche\ChipViewer.py&#39;</span>)
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-20-2><a style=outline:none;text-decoration:none;color:inherit href=#hl-20-2>2</a></span><span>(<span style=color:#a50>&#39;C:</span><span style=color:#a50>\\</span><span style=color:#a50>Python27</span><span style=color:#a50>\\</span><span style=color:#a50>Tools</span><span style=color:#a50>\\</span><span style=color:#a50>pynche&#39;</span>, <span style=color:#a50>&#39;ChipViewer.py&#39;</span>)
</span></span></code></pre></div><p>Этот пример показывает, что происходит, когда мы указываем путь к файлу. Посмотрим, что произойдет, если в конце пути не будет имени файла:</p><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-21-1><a style=outline:none;text-decoration:none;color:inherit href=#hl-21-1>1</a></span><span>&gt;&gt;&gt; os.path.split(<span style=color:#a50>r</span><span style=color:#a50>&#39;C:\Python27\Tools\pynche&#39;</span>)
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-21-2><a style=outline:none;text-decoration:none;color:inherit href=#hl-21-2>2</a></span><span>(<span style=color:#a50>&#39;C:</span><span style=color:#a50>\\</span><span style=color:#a50>Python27</span><span style=color:#a50>\\</span><span style=color:#a50>Tools&#39;</span>, <span style=color:#a50>&#39;pynche&#39;</span>)
</span></span></code></pre></div><p>Как вы можете видеть, он взял путь и разделил его таким образом, что последняя вложенная папка стала вторым элементом кортежа, а остальная часть пути - первым элементом.</p><p>Для нашего последнего примера я подумал, что вы захотите увидеть типичный случай использования <strong>split</strong>:</p><div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-22-1><a style=outline:none;text-decoration:none;color:inherit href=#hl-22-1>1</a></span><span>&gt;&gt;&gt; dirname, fname = os.path.split(<span style=color:#a50>r</span><span style=color:#a50>&#39;C:\Python27\Tools\pynche\ChipViewer.py&#39;</span>)
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-22-2><a style=outline:none;text-decoration:none;color:inherit href=#hl-22-2>2</a></span><span>&gt;&gt;&gt; dirname
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-22-3><a style=outline:none;text-decoration:none;color:inherit href=#hl-22-3>3</a></span><span><span style=color:#a50>&#39;C:</span><span style=color:#a50>\\</span><span style=color:#a50>Python27</span><span style=color:#a50>\\</span><span style=color:#a50>Tools</span><span style=color:#a50>\\</span><span style=color:#a50>pynche&#39;</span>
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-22-4><a style=outline:none;text-decoration:none;color:inherit href=#hl-22-4>4</a></span><span>&gt;&gt;&gt; fname
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f" id=hl-22-5><a style=outline:none;text-decoration:none;color:inherit href=#hl-22-5>5</a></span><span><span style=color:#a50>&#39;ChipViewer.py&#39;</span>
</span></span></code></pre></div><p>Здесь показано, как выполнить множественное присваивание. Когда вы разделяете путь, он возвращает двухэлементный кортеж. Поскольку у нас две переменные слева, первый элемент кортежа присваивается первой переменной, а второй элемент - второй переменной.</p><h2 id=подведение-итогов>Подведение итогов</h2><p>К этому моменту вы должны быть хорошо знакомы с модулем <strong>os</strong>s. В этой главе вы узнали следующее:</p><ul><li>как работать с переменными окружения</li><li>изменять каталоги и определять текущий рабочий каталог</li><li>создавать и удалять папки и файлы</li><li>переименовывать файлы/папки</li><li>запускать файл и связанное с ним приложение</li><li>перемещаться по каталогу</li><li>работать с путями</li></ul><p>В модуле <strong>os</strong> есть множество других функций, которые здесь не рассматриваются. Обязательно прочитайте документацию, чтобы узнать, что еще вы можете делать. В следующей главе мы познакомимся с модулями <strong>email</strong> и <strong>smtplib</strong>.</p></article><div class="-mx-2 mt-4 flex flex-col border-t border-b pb-1 px-2 pt-4 md:flex-row md:justify-between"><div><span class="text-primary-text block font-bold">Ранее</span>
<a href=https://romankurnovskii.com/ru/docs/python101/chapter20_sys/ class=block>20. Модуль sys</a></div><div class="mt-4 md:mt-0 md:text-right"><span class="text-primary-text block font-bold">Далее</span>
<a href=https://romankurnovskii.com/ru/docs/python101/chapter17_smtplib/ class=block>17. Модуль email / smtplib</a></div></div><div id=open_comments_block></div><script src=/opencomments.js renderdivid=open_comments_block server=https://eyt4njm3se.execute-api.eu-west-1.amazonaws.com/comments awstag defer></script></div><div class="hidden lg:block lg:w-1/4"><div class="bg-primary-bg prose sticky top-7 z-10 hidden
px-6 lg:block"><h3 class=text-lg>Содержание</h3></div><div class="sticky-toc hidden px-0 pb-6 lg:block"><nav id=TableOfContents><ul><li><a href=#osname>os.name</a></li><li><a href=#osenviron-osgetenv-и-osputenv>os.environ, os.getenv() и os.putenv()</a></li><li><a href=#oschdir-и-osgetcwd>os.chdir() и os.getcwd()</a></li><li><a href=#osmkdir-и-osmakedirs>os.mkdir() и os.makedirs()</a></li><li><a href=#osremove-и-osrmdir>os.remove() и os.rmdir()</a></li><li><a href=#osrenamesrc-dst>os.rename(src, dst)</a></li><li><a href=#osstartfile>os.startfile()</a></li><li><a href=#oswalk>os.walk()</a></li><li><a href=#ospath>os.path</a></li><li><a href=#ospathbasename>os.path.basename</a></li><li><a href=#ospathdirname>os.path.dirname</a></li><li><a href=#ospathexists>os.path.exists</a></li><li><a href=#ospathisdir--ospathisfile>os.path.isdir / os.path.isfile</a></li><li><a href=#ospathjoin>os.path.join</a></li><li><a href=#ospathsplit>os.path.split</a></li><li><a href=#подведение-итогов>Подведение итогов</a></li></ul></nav><div class="feedback-links mt-4 text-sm"><hr><div><a href=https://github.com/romankurnovskii/romankurnovskii.github.io/edit/main/content/docs/python101/chapter16_os.ru.md title="Edit this page" target=_blank><i class="fas fa-edit me-1"></i>
<span>Редактировать страницу</span></a></div><div><a href="https://github.com/romankurnovskii/romankurnovskii.github.io/issues/new/?body=File:%20[/content/docs/python101/chapter16_os.ru.md/]%28/https:/romankurnovskii.com/ru/docs/python101/chapter16_os/%29" title="Request issue" target=_blank><i class="fas fa-check me-1" aria-hidden=true></i>
<span>Запросить изменения</span></a></div></div></div><script>window.addEventListener("DOMContentLoaded",()=>{enableStickyToc()})</script></div></div></div></div></div><script>document.addEventListener("DOMContentLoaded",()=>{changeSidebarHeight(),switchDocToc()})</script></div></div></main><footer class=pl-scrollbar><div class="mx-auto w-full max-w-screen-xl"><div class="text-center p-6 pin-b"><p class="text-sm text-tertiary-text">&copy; 2023 <a href=https://romankurnovskii.com>Roman Kurnovskii</a> personal page
&#183;
<a href=https://romankurnovskii.com/ru/index.xml target=_blank>RSS</a>
&#183;
<a href=https://gohugo.io>Hugo</a> 798abf5 2022-11-18</p></p></div><script src=/js/lunr.stemmer.support.min.js></script>
<script src=/js/lunr.ru.min.js></script>
<script src=/js/lunr.multi.min.js></script>
<script src=/js/search.js?v1 languagemode=ru></script><div id=search-result tabindex=-1 class="overflow-y-auto overflow-x-hidden fixed top-0 right-0 left-0 z-50 max-w-xs" hidden><div class="relative p-4 w-full max-w-xs h-full md:h-auto"><div class="relative bg-white rounded-lg shadow dark:bg-gray-700"><div class=p-6><h3>Search results</h3><div id=popup_search_results class=prose></div></div></div></div></div><script src=/js/search-page.js?v3></script>
<script src=/js/base.js?5 languagemode=ru></script></div></footer><script src=https://cdn.jsdelivr.net/npm/medium-zoom@1.0.6/dist/medium-zoom.min.js defer></script>
<script src=/js/zoom-image/placeholders.js?4 defer></script>
<script src=/js/zoom-image/index.js?4 defer></script></body></html>