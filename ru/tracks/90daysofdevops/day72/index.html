<!doctype html><html lang=ru dir=ltr><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=generator content="Hugo "><title>72. Работа с Jenkins | Roman Kurnovskii</title><meta property="og:title" content="72. Работа с Jenkins | Roman Kurnovskii"><meta property="og:type" content="article"><meta property="og:image" content="https://romankurnovskii.com/images/icon.png"><meta property="og:url" content="https://romankurnovskii.com/ru/tracks/90daysofdevops/day72/"><meta property="og:description" content="Сегодня мы планируем немного поработать с Jenkins и сделать что-то в рамках нашего конвейера CI, рассматривая некоторые примеры кодовых баз, которые мы можем использовать.
Что такое конвейер? Прежде чем мы начнем, нам нужно знать, что такое конвейер, когда речь идет о CI, и мы уже рассмотрели это на вчерашнем занятии с помощью следующего изображения.
Мы хотим взять процессы или шаги, описанные выше, и автоматизировать их, чтобы в итоге получить результат, то есть развернутое приложение, которое мы можем отправить нашим клиентам, конечным пользователям и т."><meta property="og:locale" content="ru"><meta property="og:site_name" content="Roman Kurnovskii"><meta property="article:published_time" content="2022-07-01T00:00:00+00:00"><meta property="article:modified_time" content="2023-02-11T09:25:30+02:00"><meta property="article:section" content="tracks"><meta property="article:tag" content="devops"><meta property="og:see_also" content="https://romankurnovskii.com/ru/tracks/90daysofdevops/day73/"><meta property="og:see_also" content="https://romankurnovskii.com/ru/tracks/90daysofdevops/day74/"><meta property="og:see_also" content="https://romankurnovskii.com/ru/tracks/90daysofdevops/day75/"><meta property="og:see_also" content="https://romankurnovskii.com/ru/tracks/90daysofdevops/day76/"><meta property="og:see_also" content="https://romankurnovskii.com/ru/tracks/90daysofdevops/day77/"><meta property="og:see_also" content="https://romankurnovskii.com/ru/tracks/90daysofdevops/day78/"><link rel=icon type=image/png sizes=32x32 href=https://romankurnovskii.com/images/icon_huc02d7296c9eb9353758cb2467c0d17b0_10773_32x32_fill_box_center_3.png><link rel=apple-touch-icon sizes=180x180 href=https://romankurnovskii.com/images/icon_huc02d7296c9eb9353758cb2467c0d17b0_10773_180x180_fill_box_center_3.png><link href=https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css rel=stylesheet crossorigin=anonymous><script src=https://unpkg.com/flowbite@1.5.1/dist/flowbite.js></script>
<script src=https://unpkg.com/axios@0.27.2/dist/axios.min.js></script>
<script src=https://unpkg.com/lunr@2.3.9/lunr.min.js></script>
<link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.2/css/all.min.css integrity="sha512-1sCRPdkRXhBV2PBLUdRb4tMg1w2YPf37qatUFeS7zlBy7jJI8Lf4VHwWfZZfpXtYSLy85pkm9GaYVYMfw5BC1A==" media=print onload='this.media="all",this.onload=null' crossorigin><script src=https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.2/js/all.min.js integrity=" sha512-8pHNiqTlsrRjVD4A/3va++W1sMbUHwWxxRPWNyVlql3T+Hgfd81Qc6FC5WMXDC+tSauxxzp1tgiAvSKFu1qIlA==" defer crossorigin></script><link rel=preconnect href=https://fonts.googleapis.com><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link href="https://fonts.googleapis.com/css2?family=Raleway:ital,wght@0,200;0,300;0,400;0,500;0,600;0,700;1,300;1,400;1,500;1,600&display=swap" rel=stylesheet><link rel=stylesheet href=https://romankurnovskii.com/css/yalla.min.d6dedc4d7408a12cfb289dc31bfb2301f452f2d2ae30126bf8ad09b53393cf8cb59e3f37d4dd613a9d7649461e37b4da.css><script defer src=https://romankurnovskii.com/js/yalla.min.c10f88fac8e0f4c2c802131741be30a1f629861cc319c52238e2685191e08f721da37a6696906f314554e1ec7423f51c.js></script>
<link rel=stylesheet href=https://cdn.jsdelivr.net/npm/katex@0.16.0/dist/katex.min.css media=print onload='this.media="all",this.onload=null' crossorigin><script defer src=https://cdn.jsdelivr.net/npm/katex@0.16.0/dist/katex.min.js crossorigin></script>
<script defer src=https://cdn.jsdelivr.net/npm/katex@0.16.0/dist/contrib/auto-render.min.js crossorigin></script>
<script>document.addEventListener("DOMContentLoaded",function(){renderMathInElement(document.body,{delimiters:[{left:"$$",right:"$$",display:!0},{left:"$",right:"$",display:!1},{left:"\\(",right:"\\)",display:!1},{left:"\\[",right:"\\]",display:!0}]})})</script><script defer src=https://cdn.jsdelivr.net/npm/mermaid@9.1.3/dist/mermaid.min.js crossorigin></script><meta name=description content="Сегодня мы планируем немного поработать с Jenkins и сделать что-то в рамках нашего конвейера CI, рассматривая некоторые примеры кодовых баз, которые мы можем использовать.
Что такое конвейер? Прежде чем мы начнем, нам нужно знать, что такое конвейер, когда речь идет о CI, и мы уже рассмотрели это на вчерашнем занятии с помощью следующего изображения.
Мы хотим взять процессы или шаги, описанные выше, и автоматизировать их, чтобы в итоге получить результат, то есть развернутое приложение, которое мы можем отправить нашим клиентам, конечным пользователям и т."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Roadmaps","item":"https://romankurnovskii.com/ru/tracks/"},{"@type":"ListItem","position":2,"name":"90 дней DevOps","item":"https://romankurnovskii.com/ru/tracks/90daysofdevops/"},{"@type":"ListItem","position":3,"name":"72. Работа с Jenkins","item":"https://romankurnovskii.com/ru/tracks/90daysofdevops/day72/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"Article","mainEntityOfPage":{"@type":"WebPage","@id":"https://romankurnovskii.com/ru/tracks/90daysofdevops/day72/"},"headline":"72. Работа с Jenkins | Roman Kurnovskii","datePublished":"2022-07-01T00:00:00+00:00","dateModified":"2023-02-11T09:25:30+02:00","wordCount":1041,"publisher":{"@type":"Person","name":"Roman Kurnovskii","logo":{"@type":"ImageObject","url":"https://romankurnovskii.com/images/icon.png"}},"description":"Сегодня мы планируем немного поработать с Jenkins и сделать что-то в рамках нашего конвейера CI, рассматривая некоторые примеры кодовых баз, которые мы можем использовать.\nЧто такое конвейер? Прежде чем мы начнем, нам нужно знать, что такое конвейер, когда речь идет о CI, и мы уже рассмотрели это на вчерашнем занятии с помощью следующего изображения.\nМы хотим взять процессы или шаги, описанные выше, и автоматизировать их, чтобы в итоге получить результат, то есть развернутое приложение, которое мы можем отправить нашим клиентам, конечным пользователям и т."}</script><link rel=preconnect href=https://www.google-analytics.com crossorigin><script async src="https://www.googletagmanager.com/gtag/js?id=G-26F2C5ZR4Y"></script>
<script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-26F2C5ZR4Y")</script><script type=text/javascript>(function(e,t,n,s,o,i,a){e[o]=e[o]||function(){(e[o].a=e[o].a||[]).push(arguments)},e[o].l=1*new Date,i=t.createElement(n),a=t.getElementsByTagName(n)[0],i.async=1,i.src=s,a.parentNode.insertBefore(i,a)})(window,document,"script","https://mc.yandex.ru/metrika/tag.js?v2","ym"),ym(87734724,"init",{clickmap:!0,trackLinks:!0,accurateTrackBounce:!0,webvisor:!0})</script><noscript><div><img src=https://mc.yandex.ru/watch/87734724 style=position:absolute;left:-9999px alt></div></noscript><script>let storageColorScheme=localStorage.getItem("lightDarkMode");const isDark2=JSON.parse(localStorage.getItem("DarkMode")||"false");isDark2?storageColorScheme="Dark":storageColorScheme="Light",((storageColorScheme=="Auto"||storageColorScheme==null)&&window.matchMedia("(prefers-color-scheme: dark)").matches||storageColorScheme=="Dark")&&document.getElementsByTagName("html")[0].classList.add("dark")</script></head><body class="flex min-h-screen flex-col"><header><div class="mx-auto w-full max-w-screen-xl"><nav class="flex items-center justify-between flex-wrap px-4 py-4 md:py-0"><button id=navbar-btn class="md:hidden flex items-center px-3 py-2" aria-label="open mobile menu">
<i class="fas fa-bars"></i></button>
<a href=/ru class="me-6 text-primary-text text-xl font-bold">Roman Kurnovskii</a><div id=mobile-burger-menu class="hidden block md:flex md:grow md:justify-between md:items-center w-full md:w-auto text-primary-text z-20"><ul id=menu><li class=parent><a href=/ru/posts/ class="block mt-4 md:inline-block md:mt-0 md:h-(16-4px) md:leading-(16-4px) box-border md:border-t-2 md:border-b-2 border-transparent me-4">Заметки</a><ul class=child><li class=parent><a href=/ru/categories/roadmaps/>Руководства <span class=expand>»</span></a><ul class=child><li class=parent><a href=/ru/tracks/python-101/>Справочник Python</a></li><li class=parent><a href=/ru/tracks/webrtc/>Справочник WebRTC</a></li><li class=parent><a href=/ru/tracks/disser/>Диссертация</a></li></ul></li><li class=parent><a href=/ru/categories/programming/>Программирование <span class=expand>»</span></a><ul class=child><li class=parent><a href=/en/tracks/algorithms-101/>Algorithms [EN]</a></li><li class=parent><a href=/ru/categories/hugo/>Hugo</a></li><li class=parent><a href=/ru/categories/javascript/>JavaScript</a></li><li class=parent><a href=/ru/categories/python/>Python</a></li></ul></li><li><a href=/en/p/links/>Links</a></li></ul></li><li class=parent><a href=/ru/apps/ class="block mt-4 md:inline-block md:mt-0 md:h-(16-4px) md:leading-(16-4px) box-border md:border-t-2 md:border-b-2 border-transparent me-4">Приложения</a></li><li class=parent><a href=/ru/p/publications class="block mt-4 md:inline-block md:mt-0 md:h-(16-4px) md:leading-(16-4px) box-border md:border-t-2 md:border-b-2 border-transparent me-4">Публикации</a></li></ul></div><div class=flex><div class="relative pt-4 md:pt-0"><form id=search class="flex items-center"><label for=search-input class=sr-only>Search</label><div class="relative w-full"><input type=text type=search id=search-input class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full pl-10 p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500" placeholder=Search required></div></form></div><div class="relative pt-4 ps-2 md:pt-0"><button class="p-1 rounded border dark:border-slate-700 hover:bg-slate-200 dark:hover:bg-slate-700" onclick='location.href="/ru/search/"'>
<img width=13 src=https://img.icons8.com/ios-glyphs/30/null/search-more.png></button></div></div></nav></div><div id=is-open-mobile class="fixed hidden inset-0 opacity-0 h-full w-full cursor-default z-0"></div><script>document.addEventListener("DOMContentLoaded",()=>{switchMobileMenuBurger()})</script></header><main class="grow pt-16"><div class=pl-scrollbar><div class="mx-auto w-full max-w-screen-2xl lg:px-2 xl:px-4"><div class=lg:pt-8><div class="flex flex-col md:flex-row bg-secondary-bg rounded"><div class="md:w-1/4 lg:w-1/5 border-e"><div class="sticky mt-12"><div id=sidebar-title class="md:hidden mx-4 px-2 pt-4 pb-2 md:border-b text-tertiary-text md:text-primary-text"><span class=font-semibold>Содержание</span>
<i class='fas fa-caret-right ms-1'></i></div><div id=sidebar-toc class="hidden overflow-y-auto md:block mx-6 md:mx-0 pe-2 pt-2 md:max-h-doc-sidebar bg-primary-bg md:bg-transparent"><div class="flex flex-wrap ms-1 -me-2 p-1 bg-secondary-bg md:bg-primary-bg rounded"><a class=hover:text-yalla href=https://romankurnovskii.com/ru/tracks/90daysofdevops/>90 дней DevOps</a></div><aside aria-label=Sidebar><div class="py-2 px-1"><ul id=doc__nav__sidebar class=space-y-1><li><a href=https://romankurnovskii.com/ru/tracks/90daysofdevops/day01/><span>1. DevOps - общее представление</span></a></li><li><a href=https://romankurnovskii.com/ru/tracks/90daysofdevops/day02/><span>2. Задачи DevOps-инженера</span></a></li><li><a href=https://romankurnovskii.com/ru/tracks/90daysofdevops/day03/><span>3. Ориентированность на приложения</span></a></li><li><a href=https://romankurnovskii.com/ru/tracks/90daysofdevops/day04/><span>4. DevOps и Agile</span></a></li><li><a href=https://romankurnovskii.com/ru/tracks/90daysofdevops/day05/><span>5. Plan > Code > Build > Testing > Release > Deploy > Operate > Monitor</span></a></li><li><a href=https://romankurnovskii.com/ru/tracks/90daysofdevops/day06/><span>6. DevOps - Истории</span></a></li><li><a href=https://romankurnovskii.com/ru/tracks/90daysofdevops/day07/><span>7. DevOps - изучение языка программирования</span></a></li><li><a href=https://romankurnovskii.com/ru/tracks/90daysofdevops/day08/><span>8. Настройка DevOps окружения для запуска Hello World на Go</span></a></li><li><a href=https://romankurnovskii.com/ru/tracks/90daysofdevops/day09/><span>9. Как работает hello-world на Golang</span></a></li><li><a href=https://romankurnovskii.com/ru/tracks/90daysofdevops/day10/><span>10. Окружение Go</span></a></li><li><a href=https://romankurnovskii.com/ru/tracks/90daysofdevops/day11/><span>11. Переменные и константы в Go</span></a></li><li><a href=https://romankurnovskii.com/ru/tracks/90daysofdevops/day12/><span>12. Golang - чтение данных и указатели</span></a></li><li><a href=https://romankurnovskii.com/ru/tracks/90daysofdevops/day13/><span>13. Go - подключение Twitter API</span></a></li><li><a href=https://romankurnovskii.com/ru/tracks/90daysofdevops/day14/><span>14. DevOps и Linux</span></a></li><li><a href=https://romankurnovskii.com/ru/tracks/90daysofdevops/day15/><span>15. Команды Linux в DevOps</span></a></li><li><a href=https://romankurnovskii.com/ru/tracks/90daysofdevops/day16/><span>16. Управление системой, файловой системой и хранилищем в Linux</span></a></li><li><a href=https://romankurnovskii.com/ru/tracks/90daysofdevops/day17/><span>17. Текстовые редакторы Nano/Vim</span></a></li><li><a href=https://romankurnovskii.com/ru/tracks/90daysofdevops/day18/><span>18. Web Сервер и SSH</span></a></li><li><a href=https://romankurnovskii.com/ru/tracks/90daysofdevops/day19/><span>19. Автоматизация задачи с помощью bash-скриптов</span></a></li><li><a href=https://romankurnovskii.com/ru/tracks/90daysofdevops/day20/><span>20. Настройка рабочей среды DevOps</span></a></li><li><a href=https://romankurnovskii.com/ru/tracks/90daysofdevops/day21/><span>21. DevOps настройка сети</span></a></li><li><a href=https://romankurnovskii.com/ru/tracks/90daysofdevops/day22/><span>22. Открытая сетевая модель OSI</span></a></li><li><a href=https://romankurnovskii.com/ru/tracks/90daysofdevops/day23/><span>23. Протоколы сети</span></a></li><li><a href=https://romankurnovskii.com/ru/tracks/90daysofdevops/day24/><span>24. Автоматизация сети</span></a></li><li><a href=https://romankurnovskii.com/ru/tracks/90daysofdevops/day25/><span>25. Автоматизация сети с помощью Python</span></a></li><li><a href=https://romankurnovskii.com/ru/tracks/90daysofdevops/day26/><span>26. Развертывание виртуальной лаборатории EVE-NG в домашних условиях</span></a></li><li><a href=https://romankurnovskii.com/ru/tracks/90daysofdevops/day27/><span>27. Работа с сетью в Python</span></a></li><li><a href=https://romankurnovskii.com/ru/tracks/90daysofdevops/day28/><span>28. DevOps в облаке</span></a></li><li><a href=https://romankurnovskii.com/ru/tracks/90daysofdevops/day29/><span>29. Знакомство с Microsoft Azure</span></a></li><li><a href=https://romankurnovskii.com/ru/tracks/90daysofdevops/day30/><span>30. Модули безопасности Microsoft Azure</span></a></li><li><a href=https://romankurnovskii.com/ru/tracks/90daysofdevops/day31/><span>31. Microsoft Azure Среда выполнения приложений</span></a></li><li><a href=https://romankurnovskii.com/ru/tracks/90daysofdevops/day32/><span>32. Модели хранилища Microsoft Azure</span></a></li><li><a href=https://romankurnovskii.com/ru/tracks/90daysofdevops/day33/><span>33. Сетевые модели Microsoft Azure + Управление Azure</span></a></li><li><a href=https://romankurnovskii.com/ru/tracks/90daysofdevops/day34/><span>34. Практические скрипты Microsoft Azure</span></a></li><li><a href=https://romankurnovskii.com/ru/tracks/90daysofdevops/day35/><span>35. Git — контроль версий</span></a></li><li><a href=https://romankurnovskii.com/ru/tracks/90daysofdevops/day36/><span>36. Установка и настройка Git</span></a></li><li><a href=https://romankurnovskii.com/ru/tracks/90daysofdevops/day37/><span>37. Шпаргалка по Git</span></a></li><li><a href=https://romankurnovskii.com/ru/tracks/90daysofdevops/day38/><span>38. Staging и Изменения</span></a></li><li><a href=https://romankurnovskii.com/ru/tracks/90daysofdevops/day39/><span>39. Просмотр, удаление, отмена и восстановление</span></a></li><li><a href=https://romankurnovskii.com/ru/tracks/90daysofdevops/day40/><span>40. GitHub | GitLab | BitBucket</span></a></li><li><a href=https://romankurnovskii.com/ru/tracks/90daysofdevops/day41/><span>41. Рабочий процесс с открытым исходным кодом</span></a></li><li><a href=https://romankurnovskii.com/ru/tracks/90daysofdevops/day42/><span>42. Контейнеры</span></a></li><li><a href=https://romankurnovskii.com/ru/tracks/90daysofdevops/day43/><span>43. Установка Docker</span></a></li><li><a href=https://romankurnovskii.com/ru/tracks/90daysofdevops/day44/><span>44. Установка образов Docker в Docker Desktop</span></a></li><li><a href=https://romankurnovskii.com/ru/tracks/90daysofdevops/day45/><span>45. Что из себя представляет оьбраз Docker</span></a></li><li><a href=https://romankurnovskii.com/ru/tracks/90daysofdevops/day46/><span>46. Docker Compose</span></a></li><li><a href=https://romankurnovskii.com/ru/tracks/90daysofdevops/day47/><span>47. Сетевое взаимодействие Docker и безопасность</span></a></li><li><a href=https://romankurnovskii.com/ru/tracks/90daysofdevops/day48/><span>48. Альтернативы Docker</span></a></li><li><a href=https://romankurnovskii.com/ru/tracks/90daysofdevops/day49/><span>49. Основы Kubernetes</span></a></li><li><a href=https://romankurnovskii.com/ru/tracks/90daysofdevops/day50/><span>50. Выбор платформы Kubernetes для проекта</span></a></li><li><a href=https://romankurnovskii.com/ru/tracks/90daysofdevops/day51/><span>51. Установка minikube</span></a></li><li><a href=https://romankurnovskii.com/ru/tracks/90daysofdevops/day52/><span>52. Настройка многоузлового кластера Kubernetes</span></a></li><li><a href=https://romankurnovskii.com/ru/tracks/90daysofdevops/day53/><span>53. Обзор Rancher</span></a></li><li><a href=https://romankurnovskii.com/ru/tracks/90daysofdevops/day54/><span>54. Развертывание приложений Kubernetes</span></a></li><li><a href=https://romankurnovskii.com/ru/tracks/90daysofdevops/day55/><span>55. State и Ingress в Kubernetes</span></a></li><li><a href=https://romankurnovskii.com/ru/tracks/90daysofdevops/day56/><span>56. Обзор IaC</span></a></li><li><a href=https://romankurnovskii.com/ru/tracks/90daysofdevops/day57/><span>57. Введение в Terraform</span></a></li><li><a href=https://romankurnovskii.com/ru/tracks/90daysofdevops/day58/><span>58. Язык конфигурации HashiCorp (HCL)</span></a></li><li><a href=https://romankurnovskii.com/ru/tracks/90daysofdevops/day59/><span>59. Создание виртуальной машины с помощью Terraform</span></a></li><li><a href=https://romankurnovskii.com/ru/tracks/90daysofdevops/day60/><span>60. Контейнеры, провайдеры и модули Docker</span></a></li><li><a href=https://romankurnovskii.com/ru/tracks/90daysofdevops/day61/><span>61. Kubernetes и множественные среды</span></a></li><li><a href=https://romankurnovskii.com/ru/tracks/90daysofdevops/day62/><span>62. Terraform - Тестирование, инструменты и альтернативы</span></a></li><li><a href=https://romankurnovskii.com/ru/tracks/90daysofdevops/day63/><span>63. Инструменты управления конфигурацией - Ansible/Terraform</span></a></li><li><a href=https://romankurnovskii.com/ru/tracks/90daysofdevops/day64/><span>64. Ansible Введение</span></a></li><li><a href=https://romankurnovskii.com/ru/tracks/90daysofdevops/day65/><span>65. Ansible Playbooks - Часть 1</span></a></li><li><a href=https://romankurnovskii.com/ru/tracks/90daysofdevops/day66/><span>66. Ansible Playbooks - Часть 2</span></a></li><li><a href=https://romankurnovskii.com/ru/tracks/90daysofdevops/day67/><span>67. Роли и развертывание балансировщика нагрузки</span></a></li><li><a href=https://romankurnovskii.com/ru/tracks/90daysofdevops/day68/><span>68. Теги, переменные, инвентаризация и конфигурация сервера базы данных</span></a></li><li><a href=https://romankurnovskii.com/ru/tracks/90daysofdevops/day69/><span>69. Ansible - контроллер автоматизации (Tower), AWX, Vault</span></a></li><li><a href=https://romankurnovskii.com/ru/tracks/90daysofdevops/day70/><span>70. Конвейеры CI/CD</span></a></li><li><a href=https://romankurnovskii.com/ru/tracks/90daysofdevops/day71/><span>71. Введение в Jenkins</span></a></li><li><a href=https://romankurnovskii.com/ru/tracks/90daysofdevops/day72/ class=bg-tertiary-bg><span>72. Работа с Jenkins</span></a></li><li><a href=https://romankurnovskii.com/ru/tracks/90daysofdevops/day73/><span>73. Построение конвейера Jenkins</span></a></li><li><a href=https://romankurnovskii.com/ru/tracks/90daysofdevops/day74/><span>74. Hello World - Jenkinsfile App Pipeline</span></a></li><li><a href=https://romankurnovskii.com/ru/tracks/90daysofdevops/day75/><span>75. Обзор GitHub Actions</span></a></li><li><a href=https://romankurnovskii.com/ru/tracks/90daysofdevops/day76/><span>76. Обзор ArgoCD</span></a></li><li><a href=https://romankurnovskii.com/ru/tracks/90daysofdevops/day77/><span>77. Мониторинг</span></a></li><li><a href=https://romankurnovskii.com/ru/tracks/90daysofdevops/day78/><span>78. Hands-On Monitoring Tools</span></a></li><li><a href=https://romankurnovskii.com/ru/tracks/90daysofdevops/day79/><span>79. Log Management</span></a></li><li><a href=https://romankurnovskii.com/ru/tracks/90daysofdevops/day80/><span>80. ELK Stack</span></a></li><li><a href=https://romankurnovskii.com/ru/tracks/90daysofdevops/day81/><span>81. Fluentd и FluentBit</span></a></li><li><a href=https://romankurnovskii.com/ru/tracks/90daysofdevops/day82/><span>82. EFK Stack</span></a></li><li><a href=https://romankurnovskii.com/ru/tracks/90daysofdevops/day83/><span>83. Визуализация данных - Grafana</span></a></li><li><a href=https://romankurnovskii.com/ru/tracks/90daysofdevops/day84/><span>84. Управление данными</span></a></li><li><a href=https://romankurnovskii.com/ru/tracks/90daysofdevops/day85/><span>85. Службы данных</span></a></li><li><a href=https://romankurnovskii.com/ru/tracks/90daysofdevops/day86/><span>86. Резервное копирование всех платформ</span></a></li><li><a href=https://romankurnovskii.com/ru/tracks/90daysofdevops/day87/><span>87. Резервное копирование и восстановление</span></a></li><li><a href=https://romankurnovskii.com/ru/tracks/90daysofdevops/day88/><span>88. Резервное копирование, ориентированное на приложения</span></a></li><li><a href=https://romankurnovskii.com/ru/tracks/90daysofdevops/day89/><span>89. Аварийное восстановление</span></a></li><li><a href=https://romankurnovskii.com/ru/tracks/90daysofdevops/day90/><span>90. Мобильность данных и приложений</span></a></li></ul></div></aside></div></div></div><div class="w-full md:w-3/4 lg:w-4/5 pb-2 pt-2 md:pt-2"><div class=flex><div class="w-full lg:w-3/4 px-6"><article class=prose><h1>72. Работа с Jenkins</h1><div class="text-tertiary-text text-sm not-prose mt-2 flex flex-row flex-wrap items-center"><div class=me-4><i class="fa-regular fa-calendar-days"></i>
<span>Обновлено: 2023-02-11</span></div><div class=me-4><i class="fa-regular fa-clock"></i>
<span>5 мин</span></div><div id=page__views__div class="me-4 my-2"><i class="fa-regular fa-eye me-1"></i>
<span id=page__views></span></div></div><div class="block lg:hidden"><h3 class=text-lg>Содержание</h3><div class=break-words><nav id=TableOfContents><ul><li><ul><li><a href=#что-такое-конвейер>Что такое конвейер?</a></li><li><a href=#развертывание-jenkins>Развертывание Jenkins</a></li><li><a href=#jenkinsfile>Jenkinsfile</a></li></ul></li><li><a href=#ресурсы>Ресурсы</a></li></ul></nav></div></div><p>Сегодня мы планируем немного поработать с Jenkins и сделать что-то в рамках нашего конвейера CI, рассматривая некоторые примеры кодовых баз, которые мы можем использовать.</p><h3 id=что-такое-конвейер>Что такое конвейер?</h3><p>Прежде чем мы начнем, нам нужно знать, что такое конвейер, когда речь идет о CI, и мы уже рассмотрели это на вчерашнем занятии с помощью следующего изображения.</p><p><p class=md__image><img src=../images/Day71_CICD4.png?v1 id=zoom-default alt loading=lazy></p></p><p>Мы хотим взять процессы или шаги, описанные выше, и автоматизировать их, чтобы в итоге получить результат, то есть развернутое приложение, которое мы можем отправить нашим клиентам, конечным пользователям и т.д.</p><p>Этот автоматизированный процесс позволяет нам иметь контроль версий для наших пользователей и клиентов. Каждое изменение, улучшение функций, исправление ошибок и т.д. проходит через этот автоматизированный процесс, подтверждая, что все в порядке, без излишнего ручного вмешательства, чтобы убедиться, что наш код хорош.</p><p>Этот процесс включает в себя создание программного обеспечения надежным и повторяемым способом, а также продвижение созданного программного обеспечения (называемого &ldquo;сборкой&rdquo;) через несколько этапов тестирования и развертывания.</p><p>Конвейер jenkins записывается в текстовый файл Jenkinsfile. Который сам должен быть зафиксирован в репозитории контроля исходного кода. Это также известно как Pipeline as code, мы также можем сравнить это с Infrastructure as code, о которой мы рассказывали несколько недель назад.</p><p><a href=https://www.jenkins.io/doc/book/pipeline/#ji-toolbar>Jenkins Pipeline Definition</a></p><h3 id=развертывание-jenkins>Развертывание Jenkins</h3><p>Я получил некоторое удовольствие от развертывания Jenkins, Вы заметите из <a href=https://www.jenkins.io/doc/book/installing/>документации</a>, что есть много вариантов того, где вы можете установить Jenkins.</p><p>Учитывая, что у меня под рукой есть minikube, и мы уже использовали его несколько раз, я хотел использовать его и для этой задачи. (Хотя шаги, описанные в <a href=https://www.jenkins.io/doc/book/installing/kubernetes/>Kubernetes Installation</a>, привели к тому, что я уперся в стену и не смог запустить систему, вы можете сравнить эти два варианта, когда я задокументирую свои шаги здесь.</p><p>Первым шагом будет запуск нашего кластера minikube, мы можем сделать это с помощью команды <code>minikube start</code>.</p><p><p class=md__image><img src=../images/Day72_CICD1.png?v1 id=zoom-default alt loading=lazy></p></p><p>Я добавил папку со всеми конфигурациями и значениями YAML, которые можно найти <a href=../CICD/Jenkins>здесь</a> Теперь, когда у нас есть наш кластер, мы можем выполнить следующие действия для создания пространства имен jenkins. <code>kubectl create -f jenkins-namespace.yml</code></p><p><p class=md__image><img src=../images/Day72_CICD2.png?v1 id=zoom-default alt loading=lazy></p></p><p>Мы будем использовать Helm для развертывания jenkins в нашем кластере, о Helm мы рассказывали в разделе Kubernetes. Сначала нам нужно добавить репозиторий jenkinsci в helm <code>helm repo add jenkinsci https://charts.jenkins.io</code>, затем обновить наши таблицы <code>helm repo update</code>.</p><p><p class=md__image><img src=../images/Day72_CICD3.png?v1 id=zoom-default alt loading=lazy></p></p><p>Идея Jenkins заключается в том, что он будет сохранять состояние для своих пайплайнов, вы можете запустить вышеупомянутую установку helm без персистентности, но если эти pods будут перезагружены, изменены или модифицированы, то все пайплайны или конфигурации, которые вы создали, будут потеряны. Мы создадим том для персистентности, используя файл jenkins-volume.yml с помощью команды <code>kubectl apply -f jenkins-volume.yml</code>.</p><p><p class=md__image><img src=../images/Day72_CICD4.png?v1 id=zoom-default alt loading=lazy></p></p><p>Нам также нужна учетная запись службы, которую мы можем создать с помощью этого yaml-файла и команды. <code>kubectl apply -f jenkins-sa.yml</code></p><p><p class=md__image><img src=../images/Day72_CICD5.png?v1 id=zoom-default alt loading=lazy></p></p><p>На этом этапе мы готовы к развертыванию с помощью схемы helm, сначала мы определим нашу схему с помощью <code>chart=jenkinsci/jenkins</code>, а затем развернем с помощью этой команды, где jenkins-values.yml содержит учетные записи персистентности и сервисов, которые мы ранее развернули на нашем кластере. <code>helm install jenkins -n jenkins -f jenkins-values.yml $chart</code>.</p><p><p class=md__image><img src=../images/Day72_CICD6.png?v1 id=zoom-default alt loading=lazy></p>На этом этапе наши капсулы будут извлекать образ, но у капсулы не будет доступа к хранилищу, поэтому никакая конфигурация не может быть начата с точки зрения запуска Jenkins.</p><p>Именно здесь документация не помогла мне понять, что должно произойти. Но мы видим, что у нас нет разрешения на запуск установки jenkins.</p><p><p class=md__image><img src=../images/Day72_CICD7.png?v1 id=zoom-default alt loading=lazy></p></p><p>Для того чтобы исправить вышеописанное или решить проблему, нам нужно убедиться, что мы предоставили доступ или правильное разрешение для того, чтобы наши jenkins pods могли писать в это место, которое мы предложили. Мы можем сделать это, используя <code>minikube ssh</code>, который введет нас в докер-контейнер minikube, на котором мы работаем, а затем, используя <code>sudo chown -R 1000:1000 /data/jenkins-volume</code>, мы можем убедиться, что у нас установлены разрешения на наш том данных.</p><p><p class=md__image><img src=../images/Day72_CICD8.png?v1 id=zoom-default alt loading=lazy></p></p><p>Вышеописанный процесс должен исправить капсулы, однако если это не так, вы можете заставить капсулы обновиться с помощью команды <code>kubectl delete pod jenkins-0 -n jenkins</code>. На этом этапе у вас должно быть 2/2 запущенных стручка под названием jenkins-0.</p><p><p class=md__image><img src=../images/Day72_CICD9.png?v1 id=zoom-default alt loading=lazy></p></p><p>Теперь нам нужен наш пароль администратора, и мы можем сделать это с помощью следующей команды. <code>kubectl exec --namespace jenkins -it svc/jenkins -c jenkins -- /bin/cat /run/secrets/chart-admin-password && echo</code></p><p><p class=md__image><img src=../images/Day72_CICD10.png?v1 id=zoom-default alt loading=lazy></p></p><p>Теперь откройте новый терминал, так как мы собираемся использовать команду <code>port-forward</code>, чтобы получить доступ с нашей рабочей станции. <code>kubectl --namespace jenkins port-forward svc/jenkins 8080:8080</code>.</p><p><p class=md__image><img src=../images/Day72_CICD11.png?v1 id=zoom-default alt loading=lazy></p></p><p>Теперь мы должны быть в состоянии открыть браузер и войти на http://localhost:8080 и аутентифицироваться с именем пользователя: admin и паролем, которые мы собрали в предыдущем шаге.</p><p><p class=md__image><img src=../images/Day72_CICD12.png?v1 id=zoom-default alt loading=lazy></p></p><p>После аутентификации наша страница приветствия Jenkins должна выглядеть примерно так:</p><p><p class=md__image><img src=../images/Day72_CICD13.png?v1 id=zoom-default alt loading=lazy></p></p><p>Отсюда я бы предложил перейти к &ldquo;Manage Jenkins&rdquo;, и вы увидите &ldquo;Manage Plugins&rdquo;, где будут доступны некоторые обновления. Выберите все эти плагины и выберите &ldquo;Загрузить сейчас и установить после перезапуска&rdquo;.</p><p><p class=md__image><img src=../images/Day72_CICD14.png?v1 id=zoom-default alt loading=lazy></p></p><p>Если вы хотите пойти еще дальше и автоматизировать развертывание Jenkins с помощью shell-скрипта, этот замечательный репозиторий был предоставлен мне в twitter <a href=https://github.com/mehyedes/nodejs-k8s/blob/main/docs/automated-setup>mehyedes/nodejs-k8s</a></p><h3 id=jenkinsfile>Jenkinsfile</h3><p>Теперь у нас есть Jenkins, развернутый в нашем кластере Kubernetes, мы можем вернуться назад и подумать об этом Jenkinsfile.</p><p>Каждый Jenkinsfile, скорее всего, будет начинаться примерно так: сначала вы определяете шаги вашего конвейера, в данном случае это Build > Test > Deploy. Но на самом деле мы не делаем ничего, кроме использования команды <code>echo</code> для вызова определенных этапов.</p><div class=highlight><pre tabindex=0 style=background-color:#f0f0f0;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-fallback data-lang=fallback><span style=display:flex><span>
</span></span><span style=display:flex><span>Jenkinsfile (декларативный конвейер)
</span></span><span style=display:flex><span>pipeline {
</span></span><span style=display:flex><span>    agent any
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    stages {
</span></span><span style=display:flex><span>        stage(&#39;Build&#39;) {
</span></span><span style=display:flex><span>            steps {
</span></span><span style=display:flex><span>                echo &#39;Building..&#39;
</span></span><span style=display:flex><span>            }
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>        stage(&#39;Test&#39;) {
</span></span><span style=display:flex><span>            steps {
</span></span><span style=display:flex><span>                echo &#39;Testing..&#39;
</span></span><span style=display:flex><span>            }
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>        stage(&#39;Deploy&#39;) {
</span></span><span style=display:flex><span>            steps {
</span></span><span style=display:flex><span>                echo &#39;Deploying....&#39;
</span></span><span style=display:flex><span>            }
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>В нашей приборной панели Jenkins выберите &ldquo;New Item&rdquo; дайте элементу имя, я собираюсь &ldquo;echo1&rdquo; Я собираюсь предложить, что это Pipeline.</p><p><p class=md__image><img src=../images/Day72_CICD15.png?v1 id=zoom-default alt loading=lazy></p></p><p>Нажмите Ok, и у вас появятся вкладки (General, Build Triggers, Advanced Project Options и Pipeline) для простого теста нас интересует только Pipeline. В разделе Pipeline у вас есть возможность добавить скрипт, мы можем скопировать и вставить приведенный выше скрипт в поле.</p><p>Как мы уже говорили выше, это не даст многого, но покажет нам этапы нашей сборки > тестирования > развертывания</p><p><p class=md__image><img src=../images/Day72_CICD16.png?v1 id=zoom-default alt loading=lazy></p></p><p>Нажмите Save, теперь мы можем запустить нашу сборку, используя сборку, показанную ниже.</p><p><p class=md__image><img src=../images/Day72_CICD17.png?v1 id=zoom-default alt loading=lazy></p></p><p>Мы также должны открыть терминал и выполнить команду <code>kubectl get pods -n jenkins</code>, чтобы посмотреть, что произойдет.</p><p><p class=md__image><img src=../images/Day72_CICD18.png?v1 id=zoom-default alt loading=lazy></p></p><p>Хорошо, очень просто, но теперь мы можем видеть, что наше развертывание и установка Jenkins работает правильно, и мы можем начать видеть здесь строительные блоки конвейера CI.</p><p>В следующем разделе мы будем строить конвейер Jenkins.</p><h2 id=ресурсы>Ресурсы</h2><ul><li><a href=https://youtu.be/_MXtbjwsz3A>Jenkins is the way to build, test, deploy</a></li><li><a href=https://www.jenkins.io/>Jenkins.io</a></li><li><a href=https://argo-cd.readthedocs.io/en/stable/>ArgoCD</a></li><li><a href="https://www.youtube.com/watch?v=MeU5_k9ssrs">ArgoCD Tutorial for Beginners</a></li><li><a href="https://www.youtube.com/watch?v=LFDrDnKPOTg">What is Jenkins?</a></li><li><a href="https://www.youtube.com/watch?v=nCKxl7Q_20I&t=3s">Complete Jenkins Tutorial</a></li><li><a href="https://www.youtube.com/watch?v=R8_veQiYBjI">GitHub Actions</a></li><li><a href="https://www.youtube.com/watch?v=mFFXuXjVgkU">GitHub Actions CI/CD</a></li></ul></article><div class=my-4><a href=https://romankurnovskii.com/ru/tags/devops/ class="inline-block bg-tertiary-bg text-sm rounded px-3 py-1 my-1 me-2 hover:text-yalla">#devops</a></div><div class="-mx-2 mt-4 flex flex-col border-t border-b pb-1 px-2 pt-4 md:flex-row md:justify-between"><div><span class="text-primary-text block font-bold">Ранее</span>
<a href=https://romankurnovskii.com/ru/tracks/90daysofdevops/day71/ class=block>71. Введение в Jenkins</a></div><div class="mt-4 md:mt-0 md:text-right"><span class="text-primary-text block font-bold">Далее</span>
<a href=https://romankurnovskii.com/ru/tracks/90daysofdevops/day73/ class=block>73. Построение конвейера Jenkins</a></div></div><div id=open_comments_block></div><script src=/opencomments.js renderdivid=open_comments_block server=https://eyt4njm3se.execute-api.eu-west-1.amazonaws.com/comments awstag defer></script></div><div class="hidden lg:block lg:w-1/4"><div class="bg-primary-bg prose sticky top-7 z-10 hidden
px-6 lg:block"><h3 class=text-lg>Содержание</h3></div><div class="sticky-toc hidden px-0 pb-6 lg:block"><nav id=TableOfContents><ul><li><ul><li><a href=#что-такое-конвейер>Что такое конвейер?</a></li><li><a href=#развертывание-jenkins>Развертывание Jenkins</a></li><li><a href=#jenkinsfile>Jenkinsfile</a></li></ul></li><li><a href=#ресурсы>Ресурсы</a></li></ul></nav><div class="feedback-links mt-4 text-sm"><hr><div><a href=https://github.com/romankurnovskii/romankurnovskii.github.io/edit/main/content/tracks/90daysofdevops/day72.ru.md title="Edit this page" target=_blank><i class="fas fa-edit me-1"></i>
<span>Редактировать страницу</span></a></div><div><a href="https://github.com/romankurnovskii/romankurnovskii.github.io/issues/new/?body=File:%20[/content/tracks/90daysofdevops/day72.ru.md/]%28/https:/romankurnovskii.com/ru/tracks/90daysofdevops/day72/%29" title="Request issue" target=_blank><i class="fas fa-check me-1" aria-hidden=true></i>
<span>Запросить изменения</span></a></div></div></div><script>window.addEventListener("DOMContentLoaded",()=>{enableStickyToc()})</script></div></div></div></div></div><script>document.addEventListener("DOMContentLoaded",()=>{changeSidebarHeight(),switchDocToc()})</script></div></div></main><footer class=pl-scrollbar><div class="mx-auto w-full max-w-screen-xl"><div class="text-center p-6 pin-b"><p class="text-sm text-tertiary-text">&copy; 2023 Personal page
&#183;
<a href=https://romankurnovskii.com/ru/index.xml target=_blank>Подписаться</a> &#183;
<a href=https://gohugo.io>Hugo</a> &#183;
Updated <a href=https://github.com/romankurnovskii/romankurnovskii.github.io/commit/40d4080 target=_blank>2023-02-11</a></p></div><script src=/js/lunr.stemmer.support.min.js></script>
<script src=/js/lunr.ru.min.js></script>
<script src=/js/lunr.multi.min.js></script>
<script src=/js/search.js?v2 languagemode=ru></script><div id=search-result tabindex=-1 class="overflow-y-auto overflow-x-hidden fixed top-0 right-0 left-0 z-50 max-w-xs" hidden><div class="relative p-4 w-full max-w-xs h-full md:h-auto"><div class="relative bg-white rounded-lg shadow dark:bg-gray-700"><div class=p-6><h3>Search results</h3><div id=popup_search_results class=prose></div></div></div></div></div><script src=/js/search-page.js?v3></script>
<script src=/js/base.js?7 languagemode=ru></script></div></footer><script src=https://cdn.jsdelivr.net/npm/medium-zoom@1.0.6/dist/medium-zoom.min.js defer></script>
<script src=/js/zoom-image/placeholders.js?4 defer></script>
<script src=/js/zoom-image/index.js?4 defer></script></body></html>