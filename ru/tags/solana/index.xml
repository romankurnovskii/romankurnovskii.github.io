<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Solana on Roman Kurnovskii</title><link>https://romankurnovskii.com/ru/tags/solana/</link><description>Recent content in Solana on Roman Kurnovskii</description><generator>Hugo -- gohugo.io</generator><language>ru</language><copyright>&amp;copy; 2025</copyright><lastBuildDate>Fri, 14 Feb 2025 00:00:00 +0000</lastBuildDate><atom:link href="https://romankurnovskii.com/ru/tags/solana/index.xml" rel="self" type="application/rss+xml"/><item><title>Market Cap на примере Pump.fun</title><link>https://romankurnovskii.com/ru/posts/market-cap-pump-fun/</link><pubDate>Fri, 14 Feb 2025 00:00:00 +0000</pubDate><guid>https://romankurnovskii.com/ru/posts/market-cap-pump-fun/</guid><description>&lt;h2 id="что-такое-market-cap">Что такое Market Cap?&lt;/h2>
&lt;p>Рыночная капитализация (Market Cap) — это общий объём денег, вложенных в определённую криптовалюту.&lt;/p>
&lt;p>Рассчитывается по формуле:&lt;/p>
&lt;p>&lt;code>Market Cap = Цена 1 токена * Общее количество в обращении&lt;/code>&lt;/p>
&lt;p>Если, например, у токена в обращении 10_000_000 монет, и каждая стоит 0.01 SOL, то его рыночная капитализация составляет:&lt;/p>
&lt;p>$10.000.000 × 0.01 SOl = 100.000 SOL$&lt;/p>
&lt;h2 id="пример-pumpfun">Пример Pump.fun&lt;/h2>
&lt;p>На примере &lt;a href="https://solscan.io/token/DdLGXqbWa1kcKQFjTkM21DQLsJSMBUzi81JncyZUZZ3J#defiactivities">https://solscan.io/token/DdLGXqbWa1kcKQFjTkM21DQLsJSMBUzi81JncyZUZZ3J#defiactivities&lt;/a>&lt;/p>
&lt;p>При создании нового токена программой установлены фиксированные данные:&lt;/p>
&lt;ul>
&lt;li>Количество токенов &lt;strong>в резерве&lt;/strong> (&lt;code>vTokensInBondingCurve&lt;/code>): 1073000000 штук&lt;/li>
&lt;li>Количество SOL &lt;strong>в резерве&lt;/strong> (Виртуальный пул, Стартовая ликвидность, &lt;code>vSolInBondingCurve&lt;/code>): 30 SOL&lt;/li>
&lt;li>Количество токенов в пуле (&lt;strong>Mint&lt;/strong>, Current Supply): 1_000_000_000&lt;/li>
&lt;/ul>
&lt;ol>
&lt;li>
&lt;p>Пользователь создал токен &lt;code>VDOG&lt;/code>, и купил токенов (&lt;code>initialBuy&lt;/code>) на &lt;code>0&lt;/code> SOL (&lt;code>solAmount&lt;/code>)&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f0f0f0;-moz-tab-size:2;-o-tab-size:2;tab-size:2;">&lt;code class="language-js" data-lang="js">&lt;span style="display:flex;">&lt;span>{
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#4070a0">&amp;#34;signature&amp;#34;&lt;/span>&lt;span style="color:#666">:&lt;/span> &lt;span style="color:#4070a0">&amp;#34;fJ9uDLtFdzd6CrRKi1vHqR4AJD4ReBp8rDwoHZ9WVrkLL4xKp3QL2kbpyBxzwfVhyvvDg2bRV7RNVJ1wg2zBwT6&amp;#34;&lt;/span>,
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#4070a0">&amp;#34;mint&amp;#34;&lt;/span>&lt;span style="color:#666">:&lt;/span> &lt;span style="color:#4070a0">&amp;#34;DdLGXqbWa1kcKQFjTkM21DQLsJSMBUzi81JncyZUZZ3J&amp;#34;&lt;/span>,
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#4070a0">&amp;#34;traderPublicKey&amp;#34;&lt;/span>&lt;span style="color:#666">:&lt;/span> &lt;span style="color:#4070a0">&amp;#34;9uvkVrqSLEuQSUP2pbtF6Fv7RFJV2wgRwBnXbKbLWEYQ&amp;#34;&lt;/span>,
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#4070a0">&amp;#34;txType&amp;#34;&lt;/span>&lt;span style="color:#666">:&lt;/span> &lt;span style="color:#4070a0">&amp;#34;create&amp;#34;&lt;/span>,
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#4070a0">&amp;#34;initialBuy&amp;#34;&lt;/span>&lt;span style="color:#666">:&lt;/span> &lt;span style="color:#40a070">0&lt;/span>,
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#4070a0">&amp;#34;solAmount&amp;#34;&lt;/span>&lt;span style="color:#666">:&lt;/span> &lt;span style="color:#40a070">0&lt;/span>,
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#4070a0">&amp;#34;bondingCurveKey&amp;#34;&lt;/span>&lt;span style="color:#666">:&lt;/span> &lt;span style="color:#4070a0">&amp;#34;5CF3dHryaABtcEuPS9tK9HbRqeyLGhtJHFFHyRHXpB1o&amp;#34;&lt;/span>,
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#4070a0">&amp;#34;vTokensInBondingCurve&amp;#34;&lt;/span>&lt;span style="color:#666">:&lt;/span> &lt;span style="color:#40a070">1073000000&lt;/span>,
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#4070a0">&amp;#34;vSolInBondingCurve&amp;#34;&lt;/span>&lt;span style="color:#666">:&lt;/span> &lt;span style="color:#40a070">30&lt;/span>,
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#4070a0">&amp;#34;marketCapSol&amp;#34;&lt;/span>&lt;span style="color:#666">:&lt;/span> &lt;span style="color:#40a070">27.958993476234856&lt;/span>,
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#4070a0">&amp;#34;name&amp;#34;&lt;/span>&lt;span style="color:#666">:&lt;/span> &lt;span style="color:#4070a0">&amp;#34;Voter Doge&amp;#34;&lt;/span>,
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#4070a0">&amp;#34;symbol&amp;#34;&lt;/span>&lt;span style="color:#666">:&lt;/span> &lt;span style="color:#4070a0">&amp;#34;VDOG&amp;#34;&lt;/span>,
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#4070a0">&amp;#34;uri&amp;#34;&lt;/span>&lt;span style="color:#666">:&lt;/span> &lt;span style="color:#4070a0">&amp;#34;https://ipfs.io/ipfs/QmUJjXLRCDCDsTcr9Kv6huezqqg31mPELU7pu7RZoGBJbF&amp;#34;&lt;/span>,
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#4070a0">&amp;#34;pool&amp;#34;&lt;/span>&lt;span style="color:#666">:&lt;/span> &lt;span style="color:#4070a0">&amp;#34;pump&amp;#34;&lt;/span>,
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#4070a0">&amp;#34;time&amp;#34;&lt;/span>&lt;span style="color:#666">:&lt;/span> &lt;span style="color:#4070a0">&amp;#34;2025-02-14T15:49:10.774Z&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>}
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>Pump.fun использует модель CLMM (Маркет-мейкер концентрированной ликвидности) по формуле:&lt;/p>
&lt;p>$k = x * k$&lt;/p>
&lt;ul>
&lt;li>&lt;code>x&lt;/code> = SOL в резерве (&lt;code>vSolInBondingCurve&lt;/code> = 30 SOL)&lt;/li>
&lt;li>&lt;code>y&lt;/code> = Токенов в резерве (&lt;code>vTokensInBondingCurve&lt;/code> = 1,073,000,000 tokens)&lt;/li>
&lt;li>&lt;code>k&lt;/code> = Constant product liquidity&lt;/li>
&lt;/ul>
&lt;p>При инициализации токена в Pump.fun, коэффициент &lt;code>k&lt;/code> можно рассчитать и получается &lt;code>32190005730&lt;/code>.&lt;/p>
&lt;ul>
&lt;li>&lt;code>vTokensInBondingCurve&lt;/code>: Общее количество токенов в резерве&lt;/li>
&lt;li>&lt;code>vSolInBondingCurve&lt;/code>: Общее количество SOL в резерве&lt;/li>
&lt;li>&lt;code>marketCapSol&lt;/code>: капитализация в SOL&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>Зная первоначальный объем пула и количество выпущенных токенов, можно узнать примерную начальную цену: &lt;code>0.000000028 SOL&lt;/code>&lt;/p>
&lt;p>Цена токена:&lt;/p>
&lt;ul>
&lt;li>&lt;code>tokenPriceSol = vSolInBondingCurve / vTokensInBondingCurve&lt;/code>:&lt;/li>
&lt;li>&lt;code>tokenPriceSol = 30 / 1073000000 = 0.000000028&lt;/code>&lt;/li>
&lt;li>Более точная цена в данном случае: &lt;code>0.00000002795899347623485&lt;/code>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>Зная цену и реальное количество токенов в пуле (в Pump.fun 1_000_000_000), можно рассчитать рыночную капитализацию (Market Cap):&lt;/p>
&lt;ul>
&lt;li>&lt;code>totalTokensInPool&lt;/code> = 1_000_000_000&lt;/li>
&lt;li>&lt;code>marketCapSol = tokenPriceSol * totalTokensInPool&lt;/code>&lt;/li>
&lt;li>&lt;code>marketCapSol = 0.00000002795899347623485 * 1_000_000_000 = 27.9589&lt;/code>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ol>
&lt;p>&lt;p class="md__image">
&lt;img
src="token-info.png"
id="zoom-default"
alt="token data"
loading="lazy"
/>
&lt;/p>
&lt;/p>
&lt;ol>
&lt;li>
&lt;p>Следующим шагом происходит покупка &lt;code>97545454.542498&lt;/code> токена на сумму &lt;code>3&lt;/code> SOL&lt;/p>
&lt;ul>
&lt;li>&lt;code>vTokensInBondingCurve = vTokensInBondingCurve - 97545454.542498&lt;/code>&lt;/li>
&lt;li>&lt;code>vSolInBondingCurve = vSolInBondingCurve + 3&lt;/code>&lt;/li>
&lt;/ul>
&lt;p>Новые значения:&lt;/p>
&lt;ul>
&lt;li>&lt;code>vTokensInBondingCurve = 975454545.457502&lt;/code>&lt;/li>
&lt;li>&lt;code>vSolInBondingCurve = 33&lt;/code>&lt;/li>
&lt;li>&lt;code>tokenPriceSol = 33 / 975454545.457502 = 0.00000003383038&lt;/code>&lt;/li>
&lt;li>&lt;code>marketCapSol = 0.00000003383038 * 1_000_000_000 = 33.83038&lt;/code>&lt;/li>
&lt;/ul>
&lt;p>При первой покупке на 1 SOL цена изменилась на 20%&lt;/p>
&lt;/li>
&lt;/ol>
&lt;p>4.1 Покупка &lt;code>2917610.80396&lt;/code> токена на &lt;code>0.099&lt;/code> SOL
Новые значения:&lt;/p>
&lt;ul>
&lt;li>&lt;code>vTokensInBondingCurve = 975454545.457502-2917610.80396 = 972536934.653542&lt;/code>&lt;/li>
&lt;li>&lt;code>vSolInBondingCurve = 33.099&lt;/code>&lt;/li>
&lt;li>&lt;code>tokenPriceSol = 33.099 / 972536934.653542 = 0.000000034033668&lt;/code>&lt;/li>
&lt;li>&lt;code>marketCapSol = 0.000000034033668 * 1_000_000_000 =34.033668&lt;/code>&lt;/li>
&lt;/ul>
&lt;p>4.2 Продажа &lt;code>2917610.80396&lt;/code> токена на &lt;code>0.0989999&lt;/code> SOL
Новые значения:&lt;/p>
&lt;ul>
&lt;li>&lt;code>vTokensInBondingCurve = 972536934.653542+2917610.80396 = 975454545.457502&lt;/code>&lt;/li>
&lt;li>&lt;code>vSolInBondingCurve = 33.099-0.0989999 = 33.000000099&lt;/code>&lt;/li>
&lt;li>&lt;code>tokenPriceSol = 33.000000099 / 975454545.457502 = 0.00000003383038&lt;/code>&lt;/li>
&lt;li>&lt;code>marketCapSol = 0.00000003383038 * 1_000_000_000 = 33.83038&lt;/code>&lt;/li>
&lt;/ul>
&lt;p>4.2 Продажа &lt;code>97,545,454.542498&lt;/code> токена на &lt;code>2.999999&lt;/code> SOL
Новые значения:&lt;/p>
&lt;ul>
&lt;li>&lt;code>vTokensInBondingCurve = 975454545.457502+97545454.542498 = 1073000000&lt;/code>&lt;/li>
&lt;li>&lt;code>vSolInBondingCurve = 33.000000099-2.999999 = 30&lt;/code>&lt;/li>
&lt;li>&lt;code>tokenPriceSol = 30 / 1073000000 = 0.000000027958&lt;/code>&lt;/li>
&lt;li>&lt;code>marketCapSol = 0.000000027958 * 1_000_000_000 = 27.958&lt;/code>&lt;/li>
&lt;/ul></description></item><item><title>Ликвидность на примере Pump.fun</title><link>https://romankurnovskii.com/ru/posts/liquidity-pump-fun/</link><pubDate>Fri, 14 Feb 2025 00:00:00 +0000</pubDate><guid>https://romankurnovskii.com/ru/posts/liquidity-pump-fun/</guid><description>&lt;h2 id="что-такое-ликвидность">Что такое ликвидность?&lt;/h2>
&lt;p>Ликвидность — это способность актива быть быстро проданным или купленным на рынке без значительного изменения его цены. В контексте криптовалют ликвидность часто измеряется объёмом средств, заблокированных в пулах ликвидности на децентрализованных биржах (DEX).&lt;/p>
&lt;p>Ликвидность рассчитывается как суммарная стоимость всех токенов в пуле:&lt;/p>
&lt;p>&lt;code>Ликвидность = Количество токенов A * Цена токена A + Количество токенов B * Цена токена B&lt;/code>&lt;/p>
&lt;h2 id="пример-pumpfun">Пример Pump.fun&lt;/h2>
&lt;p>На примере токена, созданного на платформе Pump.fun, рассмотрим, как рассчитывается ликвидность.&lt;/p>
&lt;h3 id="исходные-данные">Исходные данные&lt;/h3>
&lt;p>При создании токена на Pump.fun устанавливаются следующие параметры:&lt;/p>
&lt;ul>
&lt;li>&lt;strong>Количество токенов в резерве&lt;/strong> (&lt;code>vTokensInBondingCurve&lt;/code>): 1,073,000,000 штук&lt;/li>
&lt;li>&lt;strong>Количество SOL в резерве&lt;/strong> (&lt;code>vSolInBondingCurve&lt;/code>): 30 SOL&lt;/li>
&lt;li>&lt;strong>Общее количество токенов в пуле&lt;/strong> (&lt;code>Current Supply&lt;/code>): 1,000,000,000&lt;/li>
&lt;/ul>
&lt;h3 id="шаг-1-инициализация-токена">Шаг 1: Инициализация токена&lt;/h3>
&lt;p>При создании токена &lt;code>VDOG&lt;/code> пользователь не вносит SOL (&lt;code>initialBuy = 0&lt;/code>). В этом случае:&lt;/p>
&lt;ul>
&lt;li>&lt;code>vTokensInBondingCurve&lt;/code> = 1,073,000,000&lt;/li>
&lt;li>&lt;code>vSolInBondingCurve&lt;/code> = 30 SOL&lt;/li>
&lt;/ul>
&lt;p>Используя модель CLMM (Concentrated Liquidity Market Maker), начальная цена токена рассчитывается как:&lt;/p>
&lt;p>&lt;code>Цена токена = vSolInBondingCurve / vTokensInBondingCurve = 30/1,073,000,000 = 0.00000002795899347623485 SOL&lt;/code>&lt;/p>
&lt;h3 id="шаг-2-расчёт-ликвидности">Шаг 2: Расчёт ликвидности&lt;/h3>
&lt;p>Ликвидность пула рассчитывается как суммарная стоимость токенов и SOL в пуле:&lt;/p>
&lt;ul>
&lt;li>&lt;code>Ликвидность = (vTokensInBondingCurve * Цена токена) + (vSolInBondingCurve * Цена SOL)&lt;/code>&lt;/li>
&lt;li>&lt;code>Liquidity = (vTokensInBondingCurve * tokenPriceSol) + (vSolInBondingCurve * priceOfSOL)&lt;/code>&lt;/li>
&lt;/ul>
&lt;p>Подставляем значения:&lt;/p>
&lt;ul>
&lt;li>Ликвидность в токенах: &lt;code>1,073,000,000 * 0.00000002795899347623485 = 30 SOL&lt;/code>&lt;/li>
&lt;li>Ликвидность в SOL: &lt;code>30 SOL * 1 = 30 SOL&lt;/code>&lt;/li>
&lt;/ul>
&lt;p>Итого, начальная ликвидность пула составляет &lt;strong>60 SOL&lt;/strong>.&lt;/p>
&lt;h3 id="шаг-3-покупка-токенов">Шаг 3: Покупка токенов&lt;/h3>
&lt;p>Пользователь покупает токены на 3 SOL. В результате:&lt;/p>
&lt;ul>
&lt;li>&lt;code>vTokensInBondingCurve&lt;/code> уменьшается на количество купленных токенов.&lt;/li>
&lt;li>&lt;code>vSolInBondingCurve&lt;/code> увеличивается на 3 SOL.&lt;/li>
&lt;/ul>
&lt;p>Новые значения:&lt;/p>
&lt;ul>
&lt;li>&lt;code>vTokensInBondingCurve&lt;/code> = 975,454,545.457502&lt;/li>
&lt;li>&lt;code>vSolInBondingCurve&lt;/code> = 33 SOL&lt;/li>
&lt;/ul>
&lt;p>Цена токена после покупки:&lt;/p>
&lt;ul>
&lt;li>&lt;code>tokenPriceSol = vSolInBondingCurve / vTokensInBondingCurve&lt;/code>&lt;/li>
&lt;li>&lt;code>Цена токена = 33/975,454,545.457502 = 0.00000003383038 SOL&lt;/code>&lt;/li>
&lt;/ul>
&lt;p>Ликвидность после покупки:&lt;/p>
&lt;ul>
&lt;li>&lt;code>Ликвидность = (vTokensInBondingCurve * tokenPriceSol) + (vSolInBondingCurve * priceOfSOL)&lt;/code>&lt;/li>
&lt;li>&lt;code>Liquidity = (975,454,545.457502 * 0.00000003383038) + (33 * 1)&lt;/code>&lt;/li>
&lt;li>&lt;code>Liquidity = 33 SOL&lt;/code>&lt;/li>
&lt;/ul>
&lt;p>Итого, ликвидность пула после покупки составляет &lt;strong>66 SOL&lt;/strong>.&lt;/p>
&lt;h3 id="шаг-4-продажа-токенов">Шаг 4: Продажа токенов&lt;/h3>
&lt;p>Пользователь продаёт токены на 0.099 SOL. В результате:&lt;/p>
&lt;ul>
&lt;li>&lt;code>vTokensInBondingCurve&lt;/code> увеличивается на количество проданных токенов.&lt;/li>
&lt;li>&lt;code>vSolInBondingCurve&lt;/code> уменьшается на 0.099 SOL.&lt;/li>
&lt;/ul>
&lt;p>Новые значения:&lt;/p>
&lt;ul>
&lt;li>&lt;code>vTokensInBondingCurve&lt;/code> = 972,536,934.653542&lt;/li>
&lt;li>&lt;code>vSolInBondingCurve&lt;/code> = 33.099 SOL&lt;/li>
&lt;/ul>
&lt;p>Цена токена после продажи:
[
Цена токена} = \frac{33.099}{972,536,934.653542} = 0.000000034033668 SOL}
]&lt;/p>
&lt;p>Ликвидность после продажи:&lt;/p>
&lt;ul>
&lt;li>Ликвидность в токенах: (972,536,934.653542 \times 0.000000034033668 = 33.099 SOL})&lt;/li>
&lt;li>Ликвидность в SOL: (33.099 SOL} \times 1 = 33.099 SOL})&lt;/li>
&lt;/ul>
&lt;p>Итого, ликвидность пула после продажи составляет &lt;strong>66.198 SOL&lt;/strong>.&lt;/p>
&lt;h3 id="заключение">Заключение&lt;/h3>
&lt;p>Ликвидность пула напрямую зависит от количества токенов и SOL в резерве, а также от текущей цены токена. Каждая операция покупки или продажи влияет на ликвидность, изменяя баланс токенов и SOL в пуле.&lt;/p></description></item></channel></rss>